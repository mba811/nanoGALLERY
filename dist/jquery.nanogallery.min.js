/**!
 * @preserve nanoGALLERY v5.7.0
 * Plugin for jQuery by Christophe Brisbois
 * Demo: http://nanogallery.brisbois.fr
 * Sources: https://github.com/Kris-B/nanoGALLERY
 *
 * License: For personal, non-profit organizations, or open source projects (without any kind of fee), you may use nanoGALLERY for jQuery for free. 
 * -------- ALL OTHER USES REQUIRE THE PURCHASE OF A PROFESSIONAL LICENSE.
 * 
 * 
 * Components:
 *  - jQuery (http://www.jquery.com) - version >= 1.7.1
 *  - jQuery Color plugin - is embedded
 *  - imagesloaded (https://github.com/desandro/imagesloaded) - is embebed
 *  - screenfull.js (https://github.com/sindresorhus/screenfull.js) - is embeded
 *  - shifty (https://github.com/jeremyckahn/shifty) - is embeded
 *  - webfont generated by http://fontello.com - based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fortawesome.github.com/Font-Awesome/)
 *  - javascript minifying: grunt-contrib-uglify (https://github.com/gruntjs/grunt-contrib-uglify)
 *  - css minifying: grunt-contrib-cssmin (https://github.com/gruntjs/grunt-contrib-cssmin)
 */
!function(a){function b(){function b(){ib.scrollTimeOut&&clearTimeout(ib.scrollTimeOut),ib.scrollTimeOut=setTimeout(function(){return ib.containerViewerDisplayed?void 0:("loadData"==ib.O.lazyBuild&&fb(ib.$E.conTnParent,ib.O.lazyBuildTreshold)&&(ib.O.lazyBuild="none",g()),-1!=ib.delayedAlbumIdx&&fb(ib.$E.conTnParent,ib.O.lazyBuildTreshold)&&S(ib.delayedAlbumIdx,ib.delayedSetLocationHash),void fa())},100)}function c(a){ib.isShiftPressed=a.shiftKey,ib.isAltPressed=a.altKey,ib.isCtrlPressed=a.ctrlKey,ib.isMetaPressed=a.metaKey}function d(){return{animationEngine:ib.aengine,t:"test"}}function e(){var a="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";a+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/">Chrome</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/">Firefox</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',bb(a,!1)}function f(a){for(var b=document.createElement("div"),c=0;c<a.length;++c)if("undefined"!=typeof b.style[a[c]])return a[c];return null}function g(){var a=Math.max(window.screen.width,window.screen.height);void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(a*=window.devicePixelRatio);for(var b=0;b<ib.tn.getHE().length;b++)switch(ib.tn.getHE()[b].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":ib.tn.scale=Math.max(ib.tn.scale,1.5);break;case"scale120":ib.tn.scale=Math.max(ib.tn.scale,1.2)}switch(ib.O.itemsBaseURL.length>0&&(ib.O.itemsBaseURL+="/"),ib.O.kind){case"":if(O(ib.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),void 0!==ib.O.items&&null!==ib.O.items)z(),u(!1)||R(0,!1);else{var d=jQuery(ib.$E.base).children("a");d.length>0?(B(d),u(!1)||R(0,!1)):bb("error: no image to process.")}break;case"flickr":for(ib.O.flickrSkipOriginal||(ib.flickr.photoAvailableSizes.push(1e4),ib.flickr.photoAvailableSizesStr.push("o")),i=0;i<ib.flickr.photoAvailableSizes.length&&(ib.flickr.photoSize=i,!(a<=ib.flickr.photoAvailableSizes[i]));i++);O(ib.i18nTranslations.breadcrumbHome,"","","","","album","",ib.O.photoset.length>0?ib.O.photoset:"0","-1"),F(0,!0,-1,!1);break;case"json":O(ib.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),C(0,!0,-1,!1);break;case"picasa":default:if(ib.O.album.length>0){var e=ib.O.album.indexOf("&authkey=");if(e>=0){var f=ib.O.album.substring(0,e),g=ib.O.album.substring(e);-1==g.indexOf("Gv1sRg")&&(g="&authkey=Gv1sRg"+g.substring(9));var j=O(ib.i18nTranslations.breadcrumbHome,"","","","","album","",f,"-1");j.customData.authkey=g}else O(ib.i18nTranslations.breadcrumbHome,"","","","","album","",ib.O.album,"-1")}else O(ib.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");L(0,!0,-1,!1)}jQuery(document).keyup(function(a){if(c(a),ib.containerViewerDisplayed)switch(a.keyCode){case 27:Xa(!0);break;case 32:case 13:Ka();break;case 38:case 39:case 33:Pa();break;case 40:case 37:case 34:Ra();break;case 35:case 36:}}),jQuery(window).click(c),jQuery(window).mousemove(c),ib.O.locationHash&&jQuery(window).bind("hashchange",function(){u(!0)}),ib.O.galleryFullpageButton&&(ib.O.RTL?ib.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(ib.$E.conNavB):ib.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(ib.$E.conNavB),ib.$E.conNavBFullpage.on("click",function(a){if(ib.$E.conNavBFullpage.hasClass("setFullPageButton")){if(ib.containerViewerDisplayed)return;for(ib.O.maxWidth>0&&jQuery(ib.$E.base).css({maxWidth:""}),ib.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),gb("",ib.$E.base),b=0;b<ib.tn.getHE().length;b++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(ib.tn.getHE()[b].name)&&ib.$E.base.css({overflow:"auto"});ib.$E.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"}),Z()}else{if(ib.containerViewerDisplayed)return;for(ib.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),ib.O.maxWidth>0&&jQuery(ib.$E.base).css({maxWidth:ib.O.maxWidth}),ib.$E.base.removeClass("fullpage"),b=0;b<ib.tn.getHE().length;b++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(ib.tn.getHE()[b].name)&&ib.$E.base.css({overflow:"visible"});h(),Z()}}))}function h(){jQuery("body").css({overflow:"visible"})}function k(a,b){jQuery(a).css({left:b})}function l(a){function b(a){if(void 0!=a&&(null!=ib.$currentTouchedThumbnail&&Da(ib.$currentTouchedThumbnail),ib.$currentTouchedThumbnail=null,"function"!=typeof ib.O.fnThumbnailClicked||ib.O.fnThumbnailClicked(ib.I[a].$elt,ib.I[a]))){if(void 0!==ib.I[a].destinationURL&&ib.I[a].destinationURL.length>0)return void(window.location=ib.I[a].destinationURL);ib.openNoDelay=!1,"album"==ib.I[a].kind?Y(a,!1,-1,!0):Ea(a,!1)}}function d(){if(o=0,m=null,n=null,k(ib.$E.conTn[0],0),ib.containerViewerDisplayed)ib.$currentTouchedThumbnail=null,ib.openNoDelay=!1;else if(null!=ib.$currentTouchedThumbnail){if(Math.abs(r.t-db().t)>10)return Da(ib.$currentTouchedThumbnail),ib.$currentTouchedThumbnail=null,void(ib.openNoDelay=!1);var a=ib.$currentTouchedThumbnail,c=a.data("index");if(void 0==c)return;("l1"==ib.curNavLevel&&void 0!==ib.O.touchAnimationL1?ib.O.touchAnimationL1:ib.O.touchAnimation)&&!ib.openNoDelay?ib.O.touchAutoOpenDelay>0?(sa(),Ba(a),window.clearInterval(ib.touchAutoOpenDelayTimerID),ib.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(ib.touchAutoOpenDelayTimerID),Math.abs(r.t-db().t)>10?(ib.openNoDelay=!1,ib.$currentTouchedThumbnail=null,Da(a)):b(c)},ib.O.touchAutoOpenDelay)):ib.I[c].hovered?b(c):(sa(),Ba(a)):b(c)}else ib.openNoDelay=!1}function e(){if(null==n||null==m)return void d();var a=m.x-n.x;m.y-n.y;o-=a,ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()&&ib.O.paginationSwipe&&Math.abs(a)>40&&Math.abs(r.t-db().t)<=10?(ib.$currentTouchedThumbnail=null,o=0,m=null,n=null,sa(),-40>a?ia():ha()):d()}function f(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function g(){if(l){if(ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()){var a=m.x-n.x;k(j,o-a)}l=!1}}function h(a){if(!ib.containerViewerDisplayed){var b=a.target||a.srcElement;jQuery(b).hasClass("nanoGalleryThumbnailContainer")&&Ba(jQuery(b))}}function i(a){var b=a.target||a.srcElement;jQuery(b).hasClass("nanoGalleryThumbnailContainer")&&Da(jQuery(b))}var j=a,l=!1,m=null,n=null,o=0,p=!1,q=null,r=0;if(this.handleGestureStartNoDelay=function(a){var b=jQuery(a.target).get(0).tagName.toUpperCase();if(ib.containerViewerDisplayed||"A"==b||"INPUT"==b||jQuery(a.target).hasClass("customEventHandler")){if(jQuery(a.target).hasClass("ngChekbox")){var d=jQuery(a.target).parent().data("index");void 0!=d&&pa(ib.I[d],void 0,!1)}return a.stopPropagation(),!1}c(a),(new Date).getTime()-ib.timeLastTouchStart<400&&ib.O.itemsSelectable!==!0||(ib.openNoDelay=!0,this.handleGestureStart(a))}.bind(this),this.handleGestureStart=function(a){var b=jQuery(a.target).get(0).tagName.toUpperCase();if(ib.containerViewerDisplayed||"A"==b||"INPUT"==b||jQuery(a.target).hasClass("customEventHandler"))return a.stopPropagation(),!1;if(!((new Date).getTime()-ib.timeImgChanged<400&&ib.O.itemsSelectable!==!0||(new Date).getTime()-ib.timeLastTouchStart<400&&ib.O.itemsSelectable!==!0)){ib.timeLastTouchStart=(new Date).getTime();for(var c=a.target||a.srcElement,d=!1;c!=ib.$E.conTn[0];)jQuery(c).hasClass("nanoGalleryThumbnailContainer")&&(null==ib.$currentTouchedThumbnail||ib.$currentTouchedThumbnail.is(jQuery(c))||sa(),ib.$currentTouchedThumbnail=jQuery(c),d=!0),c=c.parentNode;if(d){if(ib.O.itemsSelectable===!0){if(ib.isShiftPressed||ib.isCtrlPressed||ib.isMetaPressed||"input"===a.target.nodeName.toLowerCase())return pa(ib.I[ib.$currentTouchedThumbnail.data("index")]),!1;if(ib.selectMode===!0)return pa(ib.I[ib.$currentTouchedThumbnail.data("index")]),!1;if(ib.I[ib.$currentTouchedThumbnail.data("index")].kind===ib.selectMode)return pa(ib.I[ib.$currentTouchedThumbnail.data("index")]),!1;var e=ib.$currentTouchedThumbnail.data("index");ib.touchSelectTO=setTimeout(function(){pa(ib.I[e])},500)}r=db(),m=f(a),initialOffsetTop=db().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),ib.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"),ib.gallerySwipeInitDone=!0}}}.bind(this),this.handleGestureMove=function(a){n=f(a),l||ib.O.paginationSwipe&&ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()&&(Math.abs(m.x-n.x)>15||p)&&(a.preventDefault(),p=!0,l=!0,window.requestAnimationFrame(g))}.bind(this),this.handleGestureEnd=function(a){if(a.cancelable&&a.preventDefault(),a.stopPropagation(),l=!1,p=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),ib.O.itemsSelectable===!0){if((new Date).getTime()-ib.timeLastTouchStart>500)return!1;clearTimeout(ib.touchSelectTO)}ib.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off"),e(),m=null,n=null,o=0,p=!1,q=null}.bind(this),window.navigator.msPointerEnabled)j.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0);else if(j.addEventListener("touchstart",this.handleGestureStart,!0),!ib.isIOS){var s=this;j.addEventListener("mousedown",function(a){2!=a.button&&s.handleGestureStartNoDelay(a)},!0)}j.addEventListener("mouseenter",h,!0),j.addEventListener("mouseleave",i,!0)}function m(){"fancybox"==ib.O.viewer&&"undefined"==typeof jQuery.fancybox&&(ib.O.viewer="internal",cb("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")),("CBRISBOIS@GMAIL.COM"==ib.O.userID.toUpperCase()||"111186676244625461692"==ib.O.userID)&&(""==ib.O.blackList||"SCRAPBOOK|PROFIL"==ib.O.blackList.toUpperCase())&&(ib.O.blackList="profil|scrapbook|forhomepage"),""!=ib.O.blackList&&(ib.blackList=ib.O.blackList.toUpperCase().split("|")),""!=ib.O.whiteList&&(ib.whiteList=ib.O.whiteList.toUpperCase().split("|")),""!=ib.O.albumList&&(ib.albumList=ib.O.albumList.toUpperCase().split("|")),("picasa"==ib.O.kind||"flickr"==ib.O.kind)&&(ib.O.displayBreadcrumb=!0),void 0!==ib.O.photoset?ib.O.photoset.length>0&&(ib.O.displayBreadcrumb=!1):ib.O.photoset="",void 0!==ib.O.album?ib.O.album.length>0&&(ib.O.displayBreadcrumb=!1):ib.O.album="",ib.O.maxWidth>0&&(jQuery(ib.$E.base).css({maxWidth:ib.O.maxWidth}),jQuery(ib.$E.base).css({"margin-left":"auto"}),jQuery(ib.$E.base).css({"margin-right":"auto"})),"number"==kb(ib.O.slideshowDelay)&&ib.O.slideshowDelay>=2e3?ib.slideshowDelay=ib.O.slideshowDelay:cb('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==kb(ib.O.thumbnailDisplayInterval)&&ib.O.thumbnailDisplayInterval>=0?ib.tn.displayInterval=ib.O.thumbnailDisplayInterval:cb('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==kb(ib.O.thumbnailLazyLoadTreshold)&&ib.O.thumbnailLazyLoadTreshold>=0?ib.tn.lazyLoadTreshold=ib.O.thumbnailLazyLoadTreshold:cb('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==kb(ib.O.paginationMaxLinesPerPage)&&ib.O.paginationMaxLinesPerPage>=0?ib.pgMaxLinesPerPage=ib.O.paginationMaxLinesPerPage:cb('Parameter "paginationMaxLinesPerPage" must be an integer.'),void 0!==ib.O.thumbnailSizeSM&&(ib.O.breakpointSizeSM=ib.O.thumbnailSizeSM),void 0!==ib.O.thumbnailSizeME&&(ib.O.breakpointSizeME=ib.O.thumbnailSizeME),void 0!==ib.O.thumbnailSizeLA&&(ib.O.breakpointSizeLA=ib.O.thumbnailSizeLA),void 0!==ib.O.thumbnailSizeXL&&(ib.O.breakpointSizeXL=ib.O.thumbnailSizeXL);var a=ib.O.albumSorting.toUpperCase();0==a.indexOf("RANDOM")&&a.length>6&&(n=parseInt(a.substring(6)),n>0&&(ib.maxAlbums=n),ib.O.albumSorting="random");var b=ib.O.photoSorting.toUpperCase();0==b.indexOf("RANDOM")&&b.length>6&&(n=parseInt(b.substring(6)),n>0&&(ib.maxPhotos=n),ib.O.photoSorting="random");var c=ib.O.thumbnailL1HoverEffect;if(void 0!==c)switch(kb(c)){case"string":for(var d=c.split(","),e=0;e<d.length;e++)if("none"!=d[e]&&s(d[e])){var f=r();f.name=d[e],ib.tnL1HE.push(f)}break;case"object":if("none"!=c.name&&s(c.name)){var f=r();ib.tnL1HE.push(jQuery.extend(f,c))}break;case"array":for(var e=0;e<c.length;e++)if("none"!=c[e].name&&s(c[e].name)){var f=r();ib.tnL1HE.push(jQuery.extend(f,c[e]))}break;case"null":break;default:bb('incorrect parameter for "thumbnailL1HoverEffect".')}var g=ib.O.thumbnailHoverEffect;switch(kb(g)){case"string":for(var d=g.split(","),e=0;e<d.length;e++)if("none"!=d[e]&&s(d[e])){var f=r();f.name=d[e],ib.tnHE.push(f)}break;case"object":if("none"!=g.name&&s(g.name)){var f=r();ib.tnHE.push(jQuery.extend(f,g))}break;case"array":for(var e=0;e<g.length;e++)if("none"!=g[e].name&&s(g[e].name)){var f=r();ib.tnHE.push(jQuery.extend(f,g[e]))}break;case"null":break;default:bb('incorrect parameter for "thumbnailHoverEffect".')}if(0==ib.tnHE.length&&(0==ib.tnL1HE.length&&(ib.O.touchAnimationL1=!1),ib.O.touchAnimation=!1),ib.curWidth=p(),"number"==kb(ib.O.thumbnailWidth))o("width","l1",ib.O.thumbnailWidth,"u"),o("width","lN",ib.O.thumbnailWidth,"u");else{var h=ib.O.thumbnailWidth.split(" "),i="auto";"auto"!=h[0].substring(0,4)&&(i=parseInt(h[0]));var j="u";"C"==h[0].charAt(h[0].length-1)&&(j="c"),o("width","l1",i,j),o("width","lN",i,j);for(var e=1;e<h.length;e++){var k=h[e].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(k)){var l=h[e].substring(2),i="auto";"auto"!=l.substring(0,4)&&(i=parseInt(l));var j="u";"C"==l.charAt(l.length-1)&&(j="c"),ib.tn.settings.width.l1[k]=i,ib.tn.settings.width.lN[k]=i,ib.tn.settings.width.l1[k+"c"]=j,ib.tn.settings.width.lN[k+"c"]=j}}}if(void 0!=ib.O.thumbnailL1Width)if("number"==kb(ib.O.thumbnailL1Width))o("width","l1",ib.O.thumbnailL1Width,"u");else{var h=ib.O.thumbnailL1Width.split(" "),i="auto";"auto"!=h[0].substring(0,4)&&(i=parseInt(h[0]));var j="u";"C"==h[0].charAt(h[0].length-1)&&(j="c"),o("width","l1",i,j);for(var e=1;e<h.length;e++){var k=h[e].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(k)){var l=h[e].substring(2),i="auto";"auto"!=l.substring(0,4)&&(i=parseInt(l));var j="u";"C"==l.charAt(l.length-1)&&(j="c"),ib.tn.settings.width.l1[k]=i,ib.tn.settings.width.l1[k+"c"]=j}}}if("number"==kb(ib.O.thumbnailHeight))o("height","l1",ib.O.thumbnailHeight,"u"),o("height","lN",ib.O.thumbnailHeight,"u");else{var h=ib.O.thumbnailHeight.split(" "),i="auto";"auto"!=h[0].substring(0,4)&&(i=parseInt(h[0]));var j="u";"C"==h[0].charAt(h[0].length-1)&&(j="c"),o("height","l1",i,j),o("height","lN",i,j);for(var e=1;e<h.length;e++){var k=h[e].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(k)){var l=h[e].substring(2),i="auto";"auto"!=l.substring(0,4)&&(i=parseInt(l));var j="u";"C"==l.charAt(l.length-1)&&(j="c"),ib.tn.settings.height.l1[k]=i,ib.tn.settings.height.lN[k]=i,ib.tn.settings.height.l1[k+"c"]=j,ib.tn.settings.height.lN[k+"c"]=j}}}if(void 0!=ib.O.thumbnailL1Height)if("number"==kb(ib.O.thumbnailL1Height))o("height","l1",ib.O.thumbnailL1Height,"u");else{var h=ib.O.thumbnailL1Height.split(" "),i="auto";"auto"!=h[0].substring(0,4)&&(i=parseInt(h[0]));var j="u";"C"==h[0].charAt(h[0].length-1)&&(j="c"),o("height","l1",i,j);for(var e=1;e<h.length;e++){var k=h[e].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(k)){var l=h[e].substring(2),i="auto";"auto"!=l.substring(0,4)&&(i=parseInt(l));var j="u";"C"==l.charAt(l.length-1)&&(j="c"),ib.tn.settings.height.l1[k]=i,ib.tn.settings.height.l1[k+"c"]=j}}}}function o(a,b,c,d){ib.tn.settings[a][b].xs=c,ib.tn.settings[a][b].sm=c,ib.tn.settings[a][b].me=c,ib.tn.settings[a][b].la=c,ib.tn.settings[a][b].xl=c,ib.tn.settings[a][b].xsc=d,ib.tn.settings[a][b].smc=d,ib.tn.settings[a][b].mec=d,ib.tn.settings[a][b].lac=d,ib.tn.settings[a][b].xlc=d}function p(){var a=db().w;return ib.O.breakpointSizeSM>0&&a<ib.O.breakpointSizeSM?"xs":ib.O.breakpointSizeME>0&&a<ib.O.breakpointSizeME?"sm":ib.O.breakpointSizeLA>0&&a<ib.O.breakpointSizeLA?"me":ib.O.breakpointSizeXL>0&&a<ib.O.breakpointSizeXL?"la":"xl"}function q(){var a=Math.max(db().w,db().h);return ib.O.breakpointSizeSM>0&&a<ib.O.breakpointSizeSM?"xs":ib.O.breakpointSizeME>0&&a<ib.O.breakpointSizeME?"sm":ib.O.breakpointSizeLA>0&&a<ib.O.breakpointSizeLA?"me":ib.O.breakpointSizeXL>0&&a<ib.O.breakpointSizeXL?"la":"xl"}function r(){var a={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};return"animate"!=ib.aengine&&(a.easing="ease",a.easingBack="ease"),a}function s(a){var b=/labelOpacity50|borderLighter|borderDarker/i.test(a),c=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(a),d=/imageExplode/i.test(a);return ib.O.touchAutoOpenDelay=parseInt(ib.O.touchAutoOpenDelay),0==ib.O.touchAutoOpenDelay&&(ib.O.touchAutoOpenDelay=1e3),b||c||d?"onBottom"!=ib.O.thumbnailLabel.get("position")||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(a)?!d||"animate"!=ib.aengine&&null!=ib.CSStransformName?!0:(cb('Parameter thumbnailHoverEffect="'+a+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(bb('The parameter combination thumbnailHoverEffect="'+a+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(bb('Unknow parameter value: thumbnailHoverEffect="'+a+'".'),!1)}function t(){ib.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===ib.i18nLang&&(ib.i18nLang="");var a=-("_"+ib.i18nLang).length;if("object"==kb(ib.O.i18n))for(var b in ib.O.i18n){var c=b.substr(a);c=="_"+ib.i18nLang?ib.i18nTranslations[b.substr(0,b.length-c.length)]=ib.O.i18n[b]:ib.i18nTranslations[b]=ib.O.i18n[b]}}function u(a){if(""!=ib.O.openOnStart){var b=ib.O.openOnStart;return ib.O.openOnStart="",v(!1,b,!0)}if(!ib.O.locationHash)return!1;var c="#nanogallery/"+ib.baseEltID+"/",d=location.hash;if(d!=ib.lastLocationHash){if(""==d&&-1!=ib.lastOpenAlbumID)return ib.lastLocationHash="",Y(0,!1,-1,!1),!0;if(0==d.indexOf(c)){var b=d.substring(c.length);return v(a,b,!a)}}}function v(a,b,c){var d=null,e=null,f=b.indexOf("/"),g=-1,h=-1,i=ib.I.length;if(f>0){d=b.substring(0,f),e=b.substring(f+1);for(var j=0;i>j;j++)if("image"==ib.I[j].kind&&ib.I[j].GetID()==e){h=j;break}}else d=b;for(var j=0;i>j;j++)if("album"==ib.I[j].kind&&ib.I[j].GetID()==d){g=j;break}return null!==e?(c&&(ib.albumIdxToOpenOnViewerClose=g),""==ib.O.kind?Ea(h):-1==h?(ib.O.viewerFullscreen&&ngscreenfull.request(),Y(g,!1,e,a)):Ea(h),!0):(Y(g,!1,-1,a),!0)}function w(){ib.I=[],ib.curNavLevel="lN";var a="";ib.O.thumbnailLabel.get("displayDescription")&&(a="d");var b=O("dummydummydummy",ib.emptyGif,ib.emptyGif,a,"","image","","1","0"),c=ma(b,0,!1).e$;ib.tn.borderWidth=c.outerWidth(!0)-c.width(),ib.tn.borderHeight=c.outerHeight(!0)-c.height(),ib.tn.imgcBorderWidth=c.find(".imgContainer").outerWidth(!0)-c.find(".imgContainer").width(),ib.tn.imgcBorderHeight=c.find(".imgContainer").outerHeight(!0)-c.find(".imgContainer").height(),ib.tn.labelBorderHeight=c.find(".labelImage").outerHeight(!0)-c.find(".labelImage").height(),ib.tn.labelBorderWidth=c.find(".labelImage").outerWidth(!0)-c.find(".labelImage").width(),"onBottom"==ib.O.thumbnailLabel.get("position")&&(ib.tn.labelHeight.lN=c.find(".labelImage").outerHeight(!0),ib.tn.labelHeight.l1=ib.tn.labelHeight.lN);for(var d=["xs","sm","me","la","xl"],e=0;e<d.length;e++)f=ib.tn.settings.width.lN[d[e]],f=ib.tn.settings.width.l1[d[e]],"auto"!=f?(ib.tn.outerWidth.lN[d[e]]=f+ib.tn.borderWidth+ib.tn.imgcBorderWidth,ib.tn.outerWidth.l1[d[e]]=f+ib.tn.borderWidth+ib.tn.imgcBorderWidth):(ib.tn.outerWidth.lN[d[e]]=0,ib.tn.outerWidth.l1[d[e]]=0);for(var e=0;e<d.length;e++)g=ib.tn.settings.height.lN[d[e]],g=ib.tn.settings.height.l1[d[e]],"auto"!=g?(ib.tn.outerHeight.lN[d[e]]=g+ib.tn.borderHeight+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get(),ib.tn.outerHeight.l1[d[e]]=g+ib.tn.borderHeight+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get()):(ib.tn.outerHeight.lN[d[e]]=0,ib.tn.outerHeight.l1[d[e]]=0);ib.I=[],ib.curNavLevel="l1",a="",ib.O.thumbnailLabel.get("displayDescription")&&(a="d"),b=O("dummydummydummy",ib.emptyGif,ib.emptyGif,a,"","image","","1","0"),c=ma(b,0,!1).e$,ib.tn.borderWidth=c.outerWidth(!0)-c.width(),ib.tn.borderHeight=c.outerHeight(!0)-c.height(),ib.tn.imgcBorderWidth=c.find(".imgContainer").outerWidth(!0)-c.find(".imgContainer").width(),ib.tn.imgcBorderHeight=c.find(".imgContainer").outerHeight(!0)-c.find(".imgContainer").height(),ib.tn.labelBorderHeight=c.find(".labelImage").outerHeight(!0)-c.find(".labelImage").height(),ib.tn.labelBorderWidth=c.find(".labelImage").outerWidth(!0)-c.find(".labelImage").width(),"onBottom"==ib.O.thumbnailLabel.get("position")&&(ib.tn.labelHeight.l1=c.find(".labelImage").outerHeight(!0));for(var d=["xs","sm","me","la","xl"],e=0;e<d.length;e++){var f=ib.tn.settings.width.l1[d[e]];"auto"!=f?ib.tn.outerWidth.l1[d[e]]=f+ib.tn.borderWidth+ib.tn.imgcBorderWidth:ib.tn.outerWidth.l1[d[e]]=0}for(var e=0;e<d.length;e++){var g=ib.tn.settings.height.l1[d[e]];"auto"!=g?ib.tn.outerHeight.l1[d[e]]=g+ib.tn.borderHeight+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get():ib.tn.outerHeight.l1[d[e]]=0}ib.pgMaxNbThumbnailsPerRow=aa(),ib.custGlobals.oldBorderColor=c.css("border-color-top"),(""==ib.custGlobals.oldBorderColor||null==ib.custGlobals.oldBorderColor||void 0==ib.custGlobals.oldBorderColor)&&(ib.custGlobals.oldBorderColor="#000"),ib.custGlobals.oldLabelOpacity=c.find(".labelImage").css("opacity");var h=jQuery.Color(c.find(".labelImage"),"backgroundColor");if(ib.custGlobals.oldLabelRed=h.red(),ib.custGlobals.oldLabelGreen=h.green(),ib.custGlobals.oldLabelBlue=h.blue(),ib.I=[],ib.O.thumbnailLabel.display)switch(ib.O.thumbnailLabel.position){case"onBottom":ib.tn.styleLabelImage="top:0; position:relative; left:0; right:0;",ib.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==ib.tn.settings.getH()?(ib.tn.styleFTitle="white-space:normal;",ib.tn.styleL1FTitle="white-space:normal;",ib.tn.styleITitle="white-space:normal;",ib.tn.styleL1ITitle="white-space:normal;",ib.tn.styleDesc="white-space:normal;",ib.tn.styleL1Desc="white-space:normal;"):(ib.tn.styleFTitle="white-space:nowrap;",ib.tn.styleL1FTitle="white-space:nowrap;",ib.tn.styleITitle="white-space:nowrap;",ib.tn.styleL1ITitle="white-space:nowrap;",ib.tn.styleDesc="white-space:nowrap;",ib.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":ib.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",ib.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":ib.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",ib.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",ib.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleDesc="left:0; right:0; position:absolute; top:50%;",ib.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:ib.O.thumbnailLabel.position="overImageOnBottom",ib.tn.styleLabelImage="bottom:0; left:0; right:0;",ib.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}if(ib.O.thumbnailL1Label&&ib.O.thumbnailL1Label.display)switch(ib.O.thumbnailL1Label.position){case"onBottom":ib.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==ib.tn.settings.getH()?(ib.tn.styleL1FTitle="white-space:normal;",ib.tn.styleL1ITitle="white-space:normal;",ib.tn.styleL1Desc="white-space:normal;"):(ib.tn.styleL1FTitle="white-space:nowrap;",ib.tn.styleL1ITitle="white-space:nowrap;",ib.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":ib.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":ib.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",ib.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",ib.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":ib.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:ib.O.thumbnailL1Label.position="overImageOnBottom",ib.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}}function x(a,b){var c="";return c=""!=ib.i18nLang&&void 0!==a[b+"_"+ib.i18nLang]&&a[b+"_"+ib.i18nLang].length>0?a[b+"_"+ib.i18nLang]:a[b]}function y(a){if("%filename"==ib.O.thumbnailLabel.get("title"))return a.split("/").pop().replace("_"," ");if("%filenameNoExt"==ib.O.thumbnailLabel.get("title")){var b=a.split("/").pop();return b.split(".").shift().replace("_"," ")}return a}function z(){var a=!1;"undefined"!=typeof ib.O.dataSorting&&("random"==ib.O.dataSorting?ib.O.items=hb(ib.O.items):"reversed"==ib.O.dataSorting&&(ib.O.items=ib.O.items.reverse())),jQuery.each(ib.O.items,function(b,c){var d="";d=x(c,"title"),void 0===d&&(d="");var e=ib.O.itemsBaseURL;e+=void 0!==c["src"+q().toUpperCase()]?c["src"+q().toUpperCase()]:c.src;var f="";f=void 0!==c.srct&&c.srct.length>0?ib.O.itemsBaseURL+c.srct:e;var g="";g=void 0!==c.srct2x&&c.srct2x.length>0?ib.O.itemsBaseURL+c.srct2x:""!=f?f:e,""!=ib.O.thumbnailLabel.get("title")&&(d=y(e));var h="";h=x(c,"description"),void 0===h&&(h="");var i="";void 0!==c.destURL&&c.destURL.length>0&&(i=c.destURL);var j=x(c,"tags");void 0===j&&(j="");var k=0;void 0!==c.albumID&&(k=c.albumID,a=!0);var l=null;void 0!==c.ID&&(l=c.ID);var m="image";void 0!==c.kind&&c.kind.length>0&&(m=c.kind);var n=O(d,f,e,h,i,m,j,l,k),o=0;void 0!==c.imgtWidth&&c.imgtWidth>0&&(o=c.imgtWidth);var p=0;void 0!==c.imgtHeight&&c.imgtHeight>0&&(p=c.imgtHeight),n.thumbs={url:{l1:{xs:f,sm:f,me:f,la:f,xl:f},lN:{xs:f,sm:f,me:f,la:f,xl:f}},width:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},null!==c.customData&&(n.customData=A(c.customData)),"function"==typeof ib.O.fnProcessData&&ib.O.fnProcessData(n,"api",null)}),a&&(ib.O.displayBreadcrumb=!0);for(var b=ib.I.length,c=0,d=0,e=0;b>e;e++){c=0,d=0;for(var f=0;b>f;f++)e!=f&&ib.I[e].GetID()==ib.I[f].albumID&&(c++,"image"==ib.I[f].kind&&(ib.I[f].imageNumber=d++));ib.I[e].contentLength=c}}function A(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=A(a[c]);return b}function B(a){var b=!1;"undefined"!=typeof ib.O.dataSorting&&("random"==ib.O.dataSorting?a=hb(a):"reversed"==ib.O.dataSorting&&(jQuery.fn.reverse=[].reverse,a=a.reverse())),jQuery.each(a,function(a,c){var d="";void 0!==jQuery(c).attr("data-ngthumb")&&jQuery(c).attr("data-ngthumb").length>0&&(d=ib.O.itemsBaseURL+jQuery(c).attr("data-ngthumb")),void 0!==jQuery(c).attr("data-ngThumb")&&jQuery(c).attr("data-ngThumb").length>0&&(d=ib.O.itemsBaseURL+jQuery(c).attr("data-ngThumb"));var e="";void 0!==jQuery(c).attr("data-ngthumb2x")&&jQuery(c).attr("data-ngthumb2x").length>0&&(e=ib.O.itemsBaseURL+jQuery(c).attr("data-ngthumb2x")),void 0!==jQuery(c).attr("data-ngThumb2x")&&jQuery(c).attr("data-ngThumb2x").length>0&&(e=ib.O.itemsBaseURL+jQuery(c).attr("data-ngThumb2x"));var f="",g=q().toUpperCase();void 0!==jQuery(c).attr("data-ngsrc"+g)&&jQuery(c).attr("data-ngsrc"+g).length>0&&(f=ib.O.itemsBaseURL+jQuery(c).attr("data-ngsrc"+g)),void 0!==jQuery(c).attr("data-ngSrc"+g)&&jQuery(c).attr("data-ngSrc"+g).length>0&&(f=ib.O.itemsBaseURL+jQuery(c).attr("data-ngSrc"+g)),""==f&&(f=ib.O.itemsBaseURL+jQuery(c).attr("href"));var h="";void 0!==jQuery(c).attr("data-ngdesc")&&jQuery(c).attr("data-ngdesc").length>0&&(h=jQuery(c).attr("data-ngdesc")),void 0!==jQuery(c).attr("data-ngDesc")&&jQuery(c).attr("data-ngDesc").length>0&&(h=jQuery(c).attr("data-ngDesc"));var i="";void 0!==jQuery(c).attr("data-ngdest")&&jQuery(c).attr("data-ngdest").length>0&&(i=jQuery(c).attr("data-ngdest")),void 0!==jQuery(c).attr("data-ngDest")&&jQuery(c).attr("data-ngDest").length>0&&(i=jQuery(c).attr("data-ngDest"));var j=0;void 0!==jQuery(c).attr("data-ngalbumid")&&(j=jQuery(c).attr("data-ngalbumid"),b=!0),void 0!==jQuery(c).attr("data-ngAlbumID")&&(j=jQuery(c).attr("data-ngAlbumID"),b=!0);var k=null;void 0!==jQuery(c).attr("data-ngid")&&(k=jQuery(c).attr("data-ngid")),void 0!==jQuery(c).attr("data-ngID")&&(k=jQuery(c).attr("data-ngID"));var l="image";void 0!==jQuery(c).attr("data-ngkind")&&jQuery(c).attr("data-ngkind").length>0&&(l=jQuery(c).attr("data-ngkind")),void 0!==jQuery(c).attr("data-ngKind")&&jQuery(c).attr("data-ngKind").length>0&&(l=jQuery(c).attr("data-ngKind"));var m=jQuery(c).text();""!=ib.O.thumbnailLabel.get("title")&&void 0!=ib.O.thumbnailLabel.get("title")&&(m=y(f));var n=O(m,d,f,h,i,l,"",k,j),o=0;void 0!==jQuery(c).attr("data-ngthumbImgWidth")&&jQuery(c).attr("data-ngthumbImgWidth").length>0&&(o=jQuery(c).attr("data-ngthumbImgWidth"));var p=0;void 0!==jQuery(c).attr("data-ngthumbImgHeight")&&jQuery(c).attr("data-ngthumbImgHeight").length>0&&(p=jQuery(c).attr("data-ngthumbImgHeight")),n.thumbs={url:{l1:{xs:d,sm:d,me:d,la:d,xl:d},lN:{xs:d,sm:d,me:d,la:d,xl:d}},width:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},void 0!==jQuery(c).data("customdata")&&(n.customData=A(jQuery(c).data("customdata"))),"function"==typeof ib.O.fnProcessData&&ib.O.fnProcessData(n,"markup",null)}),jQuery.each(a,function(a,b){jQuery(b).remove()}),b&&(ib.O.displayBreadcrumb=!0);for(var c=ib.I.length,d=0,e=0,f=0;c>f;f++){d=0,e=0;for(var g=0;c>g;g++)f!=g&&ib.I[f].GetID()==ib.I[g].albumID&&(d++,"image"==ib.I[g].kind&&(ib.I[g].imageNumber=e++));ib.I[f].contentLength=d}}function C(a,b,c,d){if(V(a),ib.I[a].contentIsLoaded)return void R(a,d);var e=ib.O.jsonProvider+"?albumID="+encodeURIComponent(ib.I[a].GetID());W(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var f=setTimeout(function(){X(),bb("Could not retrieve Custom data...")},6e4);jQuery.getJSON(e,function(e,g,h){if(clearTimeout(f),X(),E(a,e),b||""!=ib.O.openOnStart)u(!1)||R(a,d);else if(-1!=c){for(var i=-1,j=ib.I.length,k=0;j>k;k++)if("image"==ib.I[k].kind&&ib.I[k].GetID()==c){
i=k;break}Ea(i,!0)}else R(a,d)}).fail(function(a,b,c){clearTimeout(f),X();var d=b+", "+c;bb("Could not retrieve JSON items list (jQuery): "+d)})}function D(a){switch(ib.O.jsonCharset.toUpperCase()){case"UTF-8":return decodeURI(a);case"Latin":default:return escape(a)}}function E(a,b){var c=!1,d=0;jQuery.each(b,function(a,b){var e="";e=x(b,"title"),void 0===e&&(e="");var f=ib.O.jsonProvider.substring(0,ib.O.jsonProvider.indexOf("nanoPhotosProvider.php")),g=f+D(b.src),h=f+D(b.srct);""!=ib.O.thumbnailLabel.get("title")&&(e=y(b.src));var i="";i=x(b,"description"),void 0===i&&(i="");var j="",k=0;void 0!==b.albumID&&(k=b.albumID,c=!0);var l=null;void 0!==b.ID&&(l=b.ID);var m="image";void 0!==b.kind&&b.kind.length>0&&(m=b.kind);var n=O(e,h,g,i,j,m,"",l,k),o=b.imgtWidth,p=b.imgtHeight;return n.thumbs={url:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},width:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},"function"==typeof ib.O.fnProcessData&&ib.O.fnProcessData(n,"api",null),"image"==m&&(n.imageNumber=d,d++,d>=ib.maxAlbums)?!1:void 0}),c&&(ib.O.displayBreadcrumb=!0),ib.I[a].contentIsLoaded=!0,ib.I[a].contentLength=d}function F(a,b,c,d){if(V(a),ib.I[a].contentIsLoaded)return void R(a,d);var e="",f="album";0==ib.I[a].GetID()?e=ib.flickr.url()+"?&method=flickr.photosets.getList&api_key="+ib.flickr.ApiKey+"&user_id="+ib.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(e="none"==ib.I[a].GetID()?ib.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+ib.flickr.ApiKey+"&user_id="+ib.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":ib.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+ib.flickr.ApiKey+"&photoset_id="+ib.I[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",f="image"),W(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var g=setTimeout(function(){X(),bb("Could not retrieve Flickr data...")},6e4);jQuery.getJSON(e,function(e,h,i){if(clearTimeout(g),X(),"album"==f?G(a,e):J(a,e),b||""!=ib.O.openOnStart)u(!1)||R(a,d);else if(-1!=c){for(var j=-1,k=ib.I.length,l=0;k>l;l++)if("image"==ib.I[l].kind&&ib.I[l].GetID()==c){j=l;break}Ea(j,!0)}else R(a,d)}).fail(function(a,b,c){clearTimeout(g),X();var d=b+", "+c;bb("Could not retrieve Flickr photoset list (jQuery): "+d)})}function G(a,b){var c=!0;if(void 0!==b.stat&&"fail"===b.stat&&(bb("Could not retrieve Flickr photoset list: "+b.message+" (code: "+b.code+")."),c=!1),c){var d=0,e=b.photosets.photoset;switch(ib.O.albumSorting){case"random":e=hb(e);break;case"reversed":e=e.reverse();break;case"titleAsc":e.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return d>c?-1:c>d?1:0});break;case"titleDesc":e.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return c>d?-1:d>c?1:0})}jQuery.each(e,function(b,c){if(itemTitle=c.title._content,Q(itemTitle,c.id)){itemID=c.id,itemDescription="",void 0!=c.description._content&&(itemDescription=c.description._content);var e={};for(var f in c.primary_photo_extras)e[f]=c.primary_photo_extras[f];tags="",void 0!==c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(tags=c.primary_photo_extras.tags);var g=O(itemTitle,"","",itemDescription,"","album",tags,itemID,ib.I[a].GetID());g.contentLength=c.photos,g.thumbSizes=e;var h={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(h=H(h,c.primary_photo_extras,"l1"),h=H(h,c.primary_photo_extras,"lN"),g.thumbs=h,d++,d>=ib.maxAlbums)return!1}}),ib.I[a].contentIsLoaded=!0,ib.I[a].contentLength=d}}function H(a,b,c){for(var d=["xs","sm","me","la","xl"],e=0;e<d.length;e++)if("auto"==ib.tn.settings.width[c][d[e]]){var f="height_",g=Math.ceil(ib.tn.settings.height[c][d[e]]*ib.tn.scale),h=I(f,g,b);a.url[c][d[e]]=h.url,a.width[c][d[e]]=h.width,a.height[c][d[e]]=h.height}else if("auto"==ib.tn.settings.height[c][d[e]]){var f="width_",g=Math.ceil(ib.tn.settings.width[c][d[e]]*ib.tn.scale),h=I(f,g,b);a.url[c][d[e]]=h.url,a.width[c][d[e]]=h.width,a.height[c][d[e]]=h.height}else{var f="height_",g=Math.ceil(ib.tn.settings.height[c][d[e]]*ib.tn.scale);ib.tn.settings.width[c][d[e]]>ib.tn.settings.height[c][d[e]]&&(f="width_",g=Math.ceil(ib.tn.settings.width[c][d[e]]*ib.tn.scale));var h=I(f,g,b);a.url[c][d[e]]=h.url,a.width[c][d[e]]=h.width,a.height[c][d[e]]=h.height}return a}function I(a,b,c){for(var d={url:"",width:0,height:0},e=0,f=0;f<ib.flickr.thumbAvailableSizes.length;f++){var g=c[a+ib.flickr.photoAvailableSizesStr[f]];if(void 0!=g&&(e=f,g>=b))break}var h=ib.flickr.photoAvailableSizesStr[e];return d.url=c["url_"+h],d.width=parseInt(c["width_"+h]),d.height=parseInt(c["height_"+h]),d}function J(a,b){var c="";switch(c="none"==ib.I[a].GetID()?b.photos.photo:b.photoset.photo,ib.O.photoSorting){case"random":c=hb(c);break;case"reversed":c=c.reverse();break;case"titleAsc":c.sort(function(a,b){var c="",d="";return""!=ib.O.thumbnailLabel.get("title")?(c=y(a.url_sq),d=y(b.url_sq)):(c=a.title.toUpperCase(),d=b.title.toUpperCase()),d>c?-1:c>d?1:0});break;case"titleDesc":c.sort(function(a,b){var c="",d="";return""!=ib.O.thumbnailLabel.get("title")?(c=y(a.url_sq),d=y(b.url_sq)):(c=a.title.toUpperCase(),d=b.title.toUpperCase()),c>d?-1:d>c?1:0})}var d=ib.I[a].GetID(),e=0;jQuery.each(c,function(a,b){for(var c=b.title,f=b.id,g=b.description._content,h=b.url_sq,a=ib.flickr.photoSize;a>=0;a--)if(void 0!=b["url_"+ib.flickr.photoAvailableSizesStr[a]]){h=b["url_"+ib.flickr.photoAvailableSizesStr[a]];break}var i={};for(var j in b)(0==j.indexOf("height_")||0==j.indexOf("width_")||0==j.indexOf("url_"))&&(i[j]=b[j]);""!=ib.O.thumbnailLabel.get("title")&&(c=y(h));var k=O(c,"",h,g,"","image","",f,d);k.imageNumber=e,void 0!==b.url_o?(k.width=b.width_o,k.height=b.height_o):(k.width=b.width_z,k.height=b.height_z);var l={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};return l=H(l,b,"l1"),l=H(l,b,"lN"),k.thumbs=l,e++,e>=ib.maxPhotos?!1:void 0}),ib.I[a].contentIsLoaded=!0,ib.I[a].contentLength=e}function K(a,b,c,d,e){var f=Math.ceil(c*ib.tn.scale)+e;return"auto"==b?f=Math.ceil(c*ib.tn.scale)+e:"auto"==c?f=Math.ceil(b*ib.tn.scale)+d:b>c&&(f=Math.ceil(b*ib.tn.scale)+d),a.length>0&&(a+=","),a+=f}function L(a,b,c,d){if(V(a),ib.I[a].contentIsLoaded)return void R(a,d);var e="",f="album",g="";if(g=K(g,ib.tn.settings.width.l1.xs,ib.tn.settings.height.l1.xs,ib.tn.settings.width.l1.xsc,ib.tn.settings.height.l1.xsc),g=K(g,ib.tn.settings.width.l1.sm,ib.tn.settings.height.l1.sm,ib.tn.settings.width.l1.smc,ib.tn.settings.height.l1.smc),g=K(g,ib.tn.settings.width.l1.me,ib.tn.settings.height.l1.me,ib.tn.settings.width.l1.mec,ib.tn.settings.height.l1.mec),g=K(g,ib.tn.settings.width.l1.la,ib.tn.settings.height.l1.la,ib.tn.settings.width.l1.lac,ib.tn.settings.height.l1.lac),g=K(g,ib.tn.settings.width.l1.xl,ib.tn.settings.height.l1.xl,ib.tn.settings.width.l1.xlc,ib.tn.settings.height.l1.xlc),g=K(g,ib.tn.settings.width.lN.xs,ib.tn.settings.height.lN.xs,ib.tn.settings.width.lN.xsc,ib.tn.settings.height.lN.xsc),g=K(g,ib.tn.settings.width.lN.sm,ib.tn.settings.height.lN.sm,ib.tn.settings.width.lN.smc,ib.tn.settings.height.lN.smc),g=K(g,ib.tn.settings.width.lN.me,ib.tn.settings.height.lN.me,ib.tn.settings.width.lN.mec,ib.tn.settings.height.lN.mec),g=K(g,ib.tn.settings.width.lN.la,ib.tn.settings.height.lN.la,ib.tn.settings.width.lN.lac,ib.tn.settings.height.lN.lac),g=K(g,ib.tn.settings.width.lN.xl,ib.tn.settings.height.lN.xl,ib.tn.settings.width.lN.xlc,ib.tn.settings.height.lN.xlc),0==ib.I[a].GetID())e=ib.picasa.url()+"user/"+ib.O.userID+"?alt=json&kind=album&thumbsize="+g+"&rnd="+(new Date).getTime();else{var h="";"undefined"!=typeof ib.I[a].customData.authkey&&(h=ib.I[a].customData.authkey),e=ib.picasa.url()+"user/"+ib.O.userID+"/albumid/"+ib.I[a].GetID()+"?alt=json&kind=photo"+h+"&thumbsize="+g+"&imgmax=d",f="image"}W(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var i=setTimeout(function(){X(),bb("Could not retrieve Picasa/Google+ data...")},6e4);jQuery.getJSON(e,"callback=?",function(e){if(clearTimeout(i),X(),M(a,e,f),b||""!=ib.O.openOnStart)u(!1)||R(a,d);else if(-1!=c){for(var g=-1,h=ib.I.length,j=0;h>j;j++)if("image"==ib.I[j].kind&&ib.I[j].GetID()==c){g=j;break}Ea(g,!0)}else R(a,d)}).fail(function(a,b,c){clearTimeout(i),X();var d="";for(var f in a)d+=f+"="+a[f]+"<br>";var g=b+", "+c+" "+d+"<br><br>URL:"+e;bb("Could not retrieve Picasa/Google+ data. Error: "+g)})}function M(a,b,c){var d=0,e=ib.I[a].GetID(),f=b.feed.entry,g=ib.O.albumSorting;switch("image"==c&&(g=ib.O.photoSorting),g){case"random":f=hb(f);break;case"reversed":f=f.reverse();break;case"titleAsc":f.sort(function(a,b){var d="",e="";return"image"==c?""!=ib.O.thumbnailLabel.get("title")?(d=y(unescape(unescape(unescape(unescape(a.media$group.media$content[0].url))))),e=y(unescape(unescape(unescape(unescape(b.media$group.media$content[0].url)))))):(d=a.media$group.media$description.$t.toUpperCase(),e=b.media$group.media$description.$t.toUpperCase()):(d=a.media$group.media$title.$t.toUpperCase(),e=b.media$group.media$title.$t.toUpperCase()),e>d?-1:d>e?1:0});break;case"titleDesc":f.sort(function(a,b){var d="",e="";return"image"==c?""!=ib.O.thumbnailLabel.get("title")?(d=y(unescape(unescape(unescape(unescape(a.media$group.media$content[0].url))))),e=y(unescape(unescape(unescape(unescape(b.media$group.media$content[0].url)))))):(d=a.media$group.media$description.$t.toUpperCase(),e=b.media$group.media$description.$t.toUpperCase()):(d=a.media$group.media$title.$t.toUpperCase(),e=b.media$group.media$title.$t.toUpperCase()),d>e?-1:e>d?1:0})}jQuery.each(f,function(a,b){var f=b.media$group.media$title.$t,g=b.media$group.media$thumbnail[0].url,h=b.gphoto$id.$t,i="",j=b.media$group.media$description.$t;"image"==c&&(i=f,f=j,j="");var k=b.media$group.media$content[0].url;"image"==c&&""!=ib.O.thumbnailLabel.get("title")&&(f=y(unescape(unescape(unescape(unescape(k))))));var l=!0;"album"==c&&(Q(f,h)||(l=!1));var m="";if(l){var n="",o="";if("album"==c)o=h;else{o=k;var p=k.substring(0,k.lastIndexOf("/"));p=p.substring(0,p.lastIndexOf("/"))+"/",o=window.screen.width>window.screen.height?p+"w"+window.screen.width+"/"+i:p+"h"+window.screen.height+"/"+i}var q=O(f,g,o,j,"",c,m,h,e);q.picasaThumbBaseURL=n,q.imageNumber=d,"album"==c&&(q.author=b.author[0].name.$t,q.contentLength=b.gphoto$numphotos.$t);var r={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(r=N("l1",0,r,b,c),r=N("lN",5,r,b,c),q.thumbs=r,"function"==typeof ib.O.fnProcessData&&ib.O.fnProcessData(q,"picasa",b),d++,d>=("album"==c?ib.maxAlbums:ib.maxPhotos))return!1}}),ib.I[a].contentIsLoaded=!0,ib.I[a].contentLength=d}function N(a,b,c,d,e){for(var f=["xs","sm","me","la","xl"],g=0;g<f.length;g++)if(c.url[a][f[g]]=d.media$group.media$thumbnail[b+g].url,"image"==e){c.width[a][f[g]]=d.media$group.media$thumbnail[b+g].width,c.height[a][f[g]]=d.media$group.media$thumbnail[b+g].height;var h=d.media$group.media$thumbnail[b+g].width,i=d.media$group.media$thumbnail[b+g].height;if("auto"==ib.tn.settings.width[a][f[g]]&&i<ib.tn.settings.height[a][f[g]]){var j=h/i;c.width[a][f[g]]=h*j,c.height[a][f[g]]=i*j;var k=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));k=k.substring(0,k.lastIndexOf("/"))+"/",c.url[a][f[g]]=k+"h"+ib.tn.settings.height[a][f[g]]+"/"}if("auto"==ib.tn.settings.height[a][f[g]]&&h<ib.tn.settings.width[a][f[g]]){var j=i/h;c.height[a][f[g]]=i*j,c.width[a][f[g]]=h*j;var k=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));k=k.substring(0,k.lastIndexOf("/"))+"/",c.url[a][f[g]]=k+"w"+ib.tn.settings.width[a][f[g]]+"/"}}else{if("auto"!=ib.tn.settings.width[a][f[g]])c.width[a][f[g]]=d.media$group.media$thumbnail[b+g].width;else{var k=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));k=k.substring(0,k.lastIndexOf("/"))+"/",c.url[a][f[g]]=k+"h"+ib.tn.settings.height[a][f[g]]+"/"}if("auto"!=ib.tn.settings.height[a][f[g]])c.height[a][f[g]]=d.media$group.media$thumbnail[b+g].height;else{var k=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));k=k.substring(0,k.lastIndexOf("/"))+"/",c.url[a][f[g]]=k+"w"+ib.tn.settings.width[a][f[g]]+"/"}}return c}function O(a,b,c,d,e,f,g,h,i){var j=P(h),k=!1;return null===j?(j=new jb(a,h),k=!0):j.title=a,j.src=c,j.description=d,j.destinationURL=e,j.kind=f,j.albumID=i,0==g.length?j.tags=null:j.tags=g.split(" "),k&&(j.title=a,ib.I.push(j)),j}function P(a){for(var b=ib.I.length,c=0;b>c;c++)if(ib.I[c].GetID()==a)return ib.I[c];return null}function Q(a,b){var c=a.toUpperCase();if(null===ib.albumList){var d=!1;if(null!==ib.whiteList){for(var e=0;e<ib.whiteList.length;e++)-1!==c.indexOf(ib.whiteList[e])&&(d=!0);if(!d)return!1}if(null!==ib.blackList)for(var e=0;e<ib.blackList.length;e++)if(-1!==c.indexOf(ib.blackList[e]))return!1;return!0}for(var e=0;e<ib.albumList.length;e++)if(c==ib.albumList[e].toUpperCase()||b==ib.albumList[e])return!0}function R(a,b){"display"==ib.O.lazyBuild?fb(ib.$E.conTnParent,ib.O.lazyBuildTreshold)?S(a,b):(ib.delayedAlbumIdx=a,ib.delayedSetLocationHash=b):S(a,b)}function S(a,b){if(ib.O.lazyBuild="none",ib.delayedAlbumIdx=-1,ib.albumIdxToOpenOnViewerClose=-1,ib.O.thumbnailAlbumDisplayImage&&0!=a){for(var c=ib.I.length,d=0;c>d;d++)if(ib.I[d].albumID==ib.I[a].GetID()){Ea(d);break}}else if(ib.containerViewerDisplayed&&Xa(!1),a!=ib.lastOpenAlbumID){if(ib.O.locationHash&&b){var e="nanogallery/"+ib.baseEltID+"/"+ib.I[a].GetID();ib.lastLocationHash="#"+e;try{top.location.hash=e}catch(f){ib.O.locationHash=!1}}ib.lastOpenAlbumID=ib.I[a].GetID(),V(a);var g=0;ib.I[a].paginationLastPage>0&&ib.I[a].paginationLastWidth==ib.$E.conTnParent.width()&&(g=ib.I[a].paginationLastPage),ja(a,g)}}function T(a){var b="folder";0==a&&(b="folderHome");var c=jQuery('<div class="'+b+' oneFolder">'+ib.I[a].title+"</div>").appendTo(ib.$E.conBC);jQuery(c).data("albumIdx",a),c.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),Y(a,!1,-1,!0)})}function U(a){var b=jQuery('<div class="separator'+(ib.O.RTL?"RTL":"")+'"></div>').appendTo(ib.$E.conBC);jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),Y(a,!1,-1,!0)})}function V(a){var b=!1;if(1==ib.O.displayBreadcrumb&&!ib.O.thumbnailAlbumDisplayImage){if(0==ib.$E.conBC.children().length&&ib.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),b=!0,ib.$E.conBC.children().remove(),T(0),0!=a){var c=ib.I.length,d=[];d.push(a);for(var e=a;0!=ib.I[e].albumID&&-1!=ib.I[e].albumID;)for(i=1;i<c;i++)if(ib.I[i].GetID()==ib.I[e].albumID){e=i,d.push(e);break}for(U(0),i=d.length-1;i>=0;i--)T(d[i]),i>0&&U(d[i-1])}var f=ib.$E.conBC.children(),g=f.length;if(0==g)ib.curNavLevel="l1",ib.O.breadcrumbAutoHideTopLevel&&(ib.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),b=!1);else if(1==g?ib.curNavLevel="l1":ib.curNavLevel="lN",1==g&&ib.O.breadcrumbAutoHideTopLevel){var h=new NGTweenable;h.tween({from:{opacity:ib.$E.conNavBCon.css("opacity"),"max-height":ib.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:ib.$E.conNavBCon},duration:200,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css({opacity:"0","max-height":"0px"})}})}else if(ib.O.breadcrumbAutoHideTopLevel){var h=new NGTweenable;h.tween({from:{opacity:ib.$E.conNavBCon.css("opacity"),"max-height":ib.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:ib.$E.conNavBCon},duration:200,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css({opacity:"1","max-height":"50px"})}})}else ib.$E.conNavBCon.css({opacity:1,"max-height":"50px"});ib.pgMaxNbThumbnailsPerRow=aa()}ib.O.useTags&&(b=!0,null==ib.containerTags&&(ib.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(ib.$E.conNavB))),ib.O.galleryFullpageButton&&(b=!0),!ib.containerNavigationbarContDisplayed&&b&&(ib.containerNavigationbarContDisplayed=!0,ib.$E.conNavBCon.show())}function W(){ib.$E.conLoadingB.css({visibility:"visible"})}function X(){ib.$E.conLoadingB.css({visibility:"hidden"})}function Y(a,b,c,d){if(ib.O.itemsSelectable&&ib.O.keepSelection===!1){ib.selectedItems=[];for(var e=ib.I.length,f=0;e>f;f++)ib.I[f].selected=!1}switch(ib.O.kind){case"":R(a,d);break;case"flickr":F(a,b,c,d);break;case"json":C(a,b,c,d);break;case"picasa":default:L(a,b,c,d)}}function Z(){"auto"==ib.tn.settings.getH()?$():"auto"==ib.tn.settings.getW()?_():ba(),fa(),ea(0)}function $(){var a=ib.$E.conTnParent.width(),b=0,c=0,d=0,e=[],f=aa(),g=0,h=ib.O.thumbnailGutterHeight,j=ib.tn.outerWidth.get(),k=ib.$E.conTn.find(".nanoGalleryThumbnailContainer");"justified"==ib.O.thumbnailAlignment?(f=Math.min(f,k.length),g=1==f?0:(a-f*j)/(f-1)):g=ib.O.thumbnailGutterWidth;var l=0;k.each(function(){var a=jQuery(this),i=a.data("index");if(void 0!==i){var j=0;if(0!=c)return!1;j=b*(ib.tn.outerWidth.get()+g),e[b]=ib.I[i].thumbFullHeight+h,b++,l++,b>=f&&(b=0,c++),d++}});var m=e.length*(j+g)-g;c=0,b=0,k.each(function(){var a=jQuery(this),j=a.data("index");if(void 0!==j){"onBottom"==ib.O.thumbnailLabel.get("position")&&ra(a,ib.I[j]);var k=0,l=0;if(0==c)k=b*(ib.tn.outerWidth.get()+g),e[b]=ib.I[j].thumbFullHeight+h,b++,b>=f&&(b=0,c++);else{var n=0,o=e[0];for(i=1;i<f;i++)if(e[i]+5<o){o=e[i],n=i;break}l=e[n],k=n*(ib.tn.outerWidth.get()+g),e[n]=l+ib.I[j].thumbFullHeight+h}var p=k;ib.O.RTL&&(p=m-k-ib.tn.outerWidth.get()),a.css({top:l,left:p}),ca(a,ib.I[j],d),d++}});var n=e[0];for(i=1;i<l;i++)n=Math.max(n,e[i]);ib.$E.conTn.width(m).height(n)}function _(){var a=ib.$E.conTnParent.width(),b=0,c=0,d=0,e=[],f=0,g=[],h=!1,i=0,j=0,k=0,l=0,m=ib.O.thumbnailGutterWidth,n=ib.O.thumbnailGutterHeight,o=0,p=0,q=!1,r=!1,s=ib.$E.conTn.find(".nanoGalleryThumbnailContainer");s.each(function(){var c=jQuery(this).data("index");if(void 0!==c&&void 0!=ib.I[c]){if(!(ib.I[c].thumbImg().width>0))return!1;var d=ib.I[c],j=Math.floor(d.thumbImg().width/d.thumbImg().height*ib.tn.settings.getH())+ib.tn.borderWidth+ib.tn.imgcBorderWidth;if(ib.O.thumbnailFeatured&&0==i&&(j=2*j,k=j),h&&(h=!1,f++,b=0,q=!1,r=!1,1==f&&k>0&&(b=k,k=0)),d.thumbImg().height>d.thumbImg().width?q=!0:r=!0,a>b+j+m){b+=j+m,g[f]=ib.tn.settings.getH();var l=Math.max(q?o:0,r?p:0);ib.O.thumbnailAdjustLastRowHeight&&l>0&&(g[f]=Math.min(g[f],l)),e[f]=c}else{b+=j;var n=Math.floor(ib.tn.settings.getH()*a/b);g[f]=n,q&&(o=Math.max(o,n)),r&&(p=Math.max(p,n)),e[f]=c,h=!0}i++}}),f=0,d=0,c=0,i=0,s.each(function(){var b=jQuery(this),h=b.data("index");if(void 0!==h&&void 0!=ib.I[h]){if(!(ib.I[h].thumbImg().width>0))return!1;var k=ib.I[h],o=Math.floor(k.thumbImg().width/k.thumbImg().height*g[f]);0==i&&ib.O.thumbnailFeatured&&(o=2*o,j=1==g.length?2*parseInt(g[0]):parseInt(g[0])+parseInt(g[1])+ib.tn.borderHeight+ib.tn.imgcBorderHeight),h==e[f]&&(e.length!=f+1?o=a-c-ib.tn.borderWidth-ib.tn.imgcBorderWidth:c+o+ib.tn.borderWidth+ib.tn.imgcBorderWidth+m>a&&(o=a-c-ib.tn.borderWidth-ib.tn.imgcBorderWidth));var p=0;0==i&&ib.O.thumbnailFeatured||(p=g[f]),p=parseInt(p),o=parseInt(o),b.width(o+ib.tn.imgcBorderWidth).height(p+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get()),k.$getElt(".imgContainer").height(p).width(o),b.find("img").css({"max-height":p+2,"max-width":o+2}),b.find(".subcontainer").width(o+ib.tn.imgcBorderWidth).height(p+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get());var q=c;ib.O.RTL&&(q=a-c-(o+ib.tn.borderWidth+ib.tn.imgcBorderWidth)),b.css({top:d,left:q}),k.thumbFullWidth=o+ib.tn.borderWidth+ib.tn.imgcBorderWidth,k.thumbFullHeight=p+ib.tn.borderHeight+ib.tn.imgcBorderHeight+ib.tn.labelHeight.get(),va(b),ca(b,k,i),c+=o+ib.tn.borderWidth+ib.tn.imgcBorderWidth+m,h==e[f]&&(d+=g[f]+ib.tn.labelHeight.get()+n+ib.tn.imgcBorderHeight+ib.tn.borderHeight,f++,c=0,1==f&&l>0&&(c=l,l=0)),i++}}),f>0&&(d-=n),j=j+ib.tn.outerHeight.get()+ib.tn.labelHeight.get(),ib.$E.conTn.width(a).height(d>j?d:j)}function aa(){var a=ib.tn.settings.getW()+ib.tn.borderWidth+ib.tn.imgcBorderWidth,b=ib.$E.conTnParent.width(),c=0;return c="justified"==ib.O.thumbnailAlignment?Math.floor(b/a):Math.floor((b+ib.O.thumbnailGutterWidth)/(a+ib.O.thumbnailGutterWidth)),ib.O.maxItemsPerLine>0&&c>ib.O.maxItemsPerLine&&(c=ib.O.maxItemsPerLine),1>c&&(c=1),c}function ba(){var a=0,b=0,c=0,d=ib.O.thumbnailGutterHeight,e=ib.$E.conTnParent.width(),f=aa(),g=0,h=0,i=0,j=[],k=0;ib.L.nbMaxTnPerRow=aa();var l=new Date;if(ib.pgMaxLinesPerPage>0&&ib.tn.outerWidth.get()>0&&f!=ib.pgMaxNbThumbnailsPerRow){ib.pgMaxNbThumbnailsPerRow=f;var m=ib.$E.conPagin.data("galleryIdx");return void ja(m,0)}var n=ib.$E.conTn.find(".nanoGalleryThumbnailContainer"),o=n.length;"justified"==ib.O.thumbnailAlignment?(f=Math.min(f,o),c=1==f?0:(e-f*ib.tn.outerWidth.get())/(f-1)):c=ib.O.thumbnailGutterWidth,ib.O.RTL&&(n.each(function(){var e=jQuery(this),g=e.data("index");if(void 0!==g){if(0!=b)return!1;a=k*(ib.tn.outerWidth.get()+c),j[k]=a,i=a,k++,k>=f&&(k=0,b+=ib.tn.outerHeight.get()+d)}}),e=i+ib.tn.outerWidth.get(),b=0,k=0);var p=[],q=0;n.each(function(){var l=jQuery(this),m=l.data("index");if(void 0!==m){q=m,0==b?(a=k*(ib.tn.outerWidth.get()+c),j[k]=a,i=a):(a=j[k],h=b);var n=a;ib.O.RTL&&(n=parseInt(e)-a-ib.tn.outerWidth.get()),p.push({$e:l,t:b,l:n,item:ib.I[m]}),k++,k>=f&&(k=0,b+=ib.tn.outerHeight.get()+d),g++}});for(var r=p.length,s=0;r>s;s++)p[s].$e.css({top:p[s].t,left:p[s].l}),ca(p[s].$e,p[s].item,s);p=[],ib.$E.conTn.width(i+ib.tn.outerWidth.get()).height(h+ib.tn.outerHeight.get()),ib.O.debugMode&&console.log("ResizeGalleryGrid: "+(new Date-l))}function ca(a,b,c){a.hasClass("nanogalleryHideElement")&&(a.removeClass("nanogalleryHideElement"),ib.O.thumbnailDisplayTransition?"function"==typeof ib.O.fnThumbnailDisplayEffect?ib.O.fnThumbnailDisplayEffect(a,b,0):setTimeout(function(){window.requestAnimationFrame(function(){da(a)})},c*ib.tn.displayInterval):a.css({opacity:1}))}function da(a){var b=new NGTweenable;b.tween({from:{o:0},to:{o:1},duration:200,step:function(b){a.css({opacity:b.o})},finish:function(b){a.css({opacity:b.o})}})}function ea(a){if(ib.O.galleryToolbarWidthAligned&&void 0!==ib.$E.conNavBCon){var b=ib.$E.conTn.outerWidth(!0);ib.$E.conNavBCon.width()<b?ib.$E.conNavBCon.width(b):ib.$E.conNavBCon.width(b)}}function fa(){var a=ib.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return eb(jQuery(this),ib.tn.lazyLoadTreshold)});jQuery(a).each(function(){var a=jQuery(this).find("img");if(a.attr("src")==ib.emptyGif){var b=jQuery(this).data("index");if(void 0==b||void 0==ib.I[b])return;a.attr("src",""),a.attr("src",ib.I[b].thumbImg().src)}})}function ga(b,c){if(void 0!=ib.$E.conPagin){if(ib.$E.conPagin.children().remove(),0==ib.pgMaxLinesPerPage||"auto"==ib.tn.settings.getH()||"auto"==ib.tn.settings.getW())return void ib.$E.conPagin.hide();ib.$E.conPagin.show(),ib.$E.conPagin.data("galleryIdx",b),ib.$E.conPagin.data("currentPageNumber",c);var d=0,e=0;if(!ib.O.paginationDots&&c>0){var f=jQuery('<div class="paginationPrev">'+(ib.O.paginationDots?"":ib.i18nTranslations.paginationPrevious)+"</div>").appendTo(ib.$E.conPagin);e+=jQuery(f).outerWidth(!0),f.click(function(a){ia()})}var g=0;if(ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()&&(d=Math.ceil(ib.I[b].contentLength/(ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow))),ib.O.paginationDots?g=0:c>=5?(g=c-5,d>c+6&&(d=c+6)):d>10&&(d=10),1==d)return void ib.$E.conPagin.hide();for(var h=g;d>h;h++){var i="";h==c&&(i=" currentPage");var j=jQuery('<div class="paginationItem'+i+'">'+(ib.O.paginationDots?"":h+1)+"</div>").appendTo(ib.$E.conPagin);j.data("pageNumber",h),e+=j.outerWidth(!0),j.click(function(b){var c=ib.$E.conPagin.data("galleryIdx"),d=jQuery(this).data("pageNumber");fb(ib.$E.base,0)||a("html, body").animate({scrollTop:ib.$E.base.offset().top},200),ja(c,d)})}if(!ib.O.paginationDots&&d>c+1){var k=jQuery('<div class="paginationNext">'+(ib.O.paginationDots?"":ib.i18nTranslations.paginationNext)+"</div>").appendTo(ib.$E.conPagin);e+=k.outerWidth(!0),k.click(function(a){ha()})}ib.$E.conPagin.width(e)}}function ha(){var b=ib.$E.conPagin.data("galleryIdx"),c=0;ib.pgMaxLinesPerPage>0&&(c=ib.I[b].contentLength/(ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(c);var d=ib.$E.conPagin.data("currentPageNumber");d<n2-1?d++:d=0,fb(ib.$E.base,0)||a("html, body").animate({scrollTop:ib.$E.base.offset().top},200),ja(b,d)}function ia(){var b=ib.$E.conPagin.data("galleryIdx"),c=0;ib.pgMaxLinesPerPage>0&&(c=ib.I[b].contentLength/(ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(c);var d=ib.$E.conPagin.data("currentPageNumber");d>0?d--:d=n2-1,fb(ib.$E.base,0)||a("html, body").animate({scrollTop:ib.$E.base.offset().top},250),ja(b,d)}function ja(a,b){ib.curAlbumIdx=-1,void 0==ib.$E.conPagin&&ib.$E.conPagin.children().remove();var c=ib.$E.conTn.parent(),d=new NGTweenable;d.tween({to:{opacity:0},from:{opacity:1},attachment:{$e:c},duration:150,step:function(a,b){b.$e.css(a)},finish:function(c,d){d.$e.css({opacity:0}),ib.containerThumbnailsDisplayed=!1,ib.$E.conTn.hide(0).off().show(0).html("");for(var e=ib.I.length,f=0;e>f;f++)ib.I[f].hovered=!1;ib.$E.conTnParent.css({left:0,opacity:1}),k(ib.$E.conTn[0],0),ka(a,b,la)}})}function ka(a,b,c){if(ib.O.debugMode&&console.timeline&&console.timeline("nanoGALLERY"),ib.startDateTime=new Date,-1!=a&&void 0!=ib.I[a]){ib.I[a].paginationLastPage=b,ib.I[a].paginationLastWidth=ib.$E.conTnParent.width();var d=ib.I.length,e=!1;ib.galleryItemsCount=0;var f=0,g=0,h=0;ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()&&(g=b*ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow,h=g+ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow),X();var i=!1,j=!1,k=0;!function(){ib.toRender=[];for(var h=0;h<ib.O.galleryRenderStep;h++){if(k>=d)return void c(a,b);var l=ib.I[k];if(l.albumID==ib.I[a].GetID()){if(f++,ib.pgMaxLinesPerPage>0&&"auto"!=ib.tn.settings.getH()&&"auto"!=ib.tn.settings.getW()&&ib.galleryItemsCount+1>ib.pgMaxLinesPerPage*ib.pgMaxNbThumbnailsPerRow)return void c(a,b);if(f>g){ib.galleryItemsCount++;var m=ma(l,k,e),n=m.e$;ib.O.thumbnailLazyLoad&&!m.cIS&&(i||(eb(n,ib.tn.lazyLoadTreshold)?(l.$getElt("img").attr("src",""),l.$getElt("img").attr("src",l.thumbImg().src),j=!0):j&&(i=!0)))}}k++}var o=ib.toRender.length;if(o>0)for(var h=0;o>h;h++);d>k?setTimeout(arguments.callee,2):c(a,b)}()}}function la(a,b){Z(),ga(a,b),ib.containerThumbnailsDisplayed=!0,ib.curAlbumIdx=a,"function"==typeof ib.O.fnInitGallery&&ib.O.fnInitGallery(a,b),ib.O.debugMode&&console.timeline&&(console.log("End-render: "+(new Date-ib.startDateTime)),console.timelineEnd("nanoGALLERY")),ib.SetSelectMode()}function ma(a,b,c){var e=[],f=0;a.$Elts=[];var g="",h=" nanogalleryHideElement";ib.O.thumbnailLazyLoad&&"auto"==ib.tn.settings.getW()&&(g="top:0px;left:0px;"),e[f++]='<div class="nanoGalleryThumbnailContainer'+h+' nGEvent" style="display:block;opacity:0;'+g+'" ><div class="subcontainer nGEvent" style="display:block;">';var i=!1,j=ib.emptyGif;("auto"==ib.tn.settings.getH()&&0==ib.I[b].thumbImg().height||"auto"==ib.tn.settings.getW()&&0==ib.I[b].thumbImg().width)&&(i=!0),(!ib.O.thumbnailLazyLoad||i)&&(j=a.thumbImg().src);var k=na(a),l=oa(a);if("auto"==ib.tn.settings.getH()?e[f++]='<div class="imgContainer nGEvent" style="width:'+ib.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+j+'" alt="'+k+'" style="max-width:'+ib.tn.settings.getW()+'px;"></div>':"auto"==ib.tn.settings.getW()?e[f++]='<div class="imgContainer nGEvent" style="height:'+ib.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+j+'" alt="'+k+'" style="max-height:'+ib.tn.settings.getH()+'px;" ></div>':e[f++]='<div class="imgContainer nGEvent" style="width:'+ib.tn.settings.getW()+"px;height:"+ib.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+j+'" alt="'+k+'" style="max-width:'+ib.tn.settings.getW()+"px;max-height:"+ib.tn.settings.getH()+'px;" ></div>',"album"==a.kind){if(1==ib.O.thumbnailLabel.get("display")){if(a.contentLength>0)switch(ib.O.thumbnailLabel.get("itemsCount")){case"title":k+=" "+ib.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+a.contentLength+"</span>"+ib.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":l+=" "+ib.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+a.contentLength+"</span>"+ib.i18nTranslations.thumbnailLabelItemsCountPart2}e[f++]='<div class="labelImage nGEvent" style="width:'+ib.tn.settings.getW()+"px;"+(ib.O.RTL?"direction:RTL;":"")+("l1"==ib.curNavLevel?ib.tn.styleL1LabelImage:ib.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+("l1"==ib.curNavLevel?ib.tn.styleL1FTitle:ib.tn.styleFTitle)+'">'+k+'</div><div class="labelDescription nGEvent" style="'+("l1"==ib.curNavLevel?ib.tn.styleL1Desc:ib.tn.styleDesc)+'">'+l+"</div></div>"}}else 1==ib.O.thumbnailLabel.get("display")&&(c&&0==l.length&&"onBottom"==ib.O.thumbnailLabel.get("position")&&(l="&nbsp;"),e[f++]='<div class="labelImage nGEvent" style="width:'+ib.tn.settings.getW()+"px;"+(ib.O.RTL?"direction:RTL;":"")+("l1"==ib.curNavLevel?ib.tn.styleL1LabelImage:ib.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+("l1"==ib.curNavLevel?ib.tn.styleL1ITitle:ib.tn.styleITitle)+'">'+k+'</div><div class="labelDescription nGEvent" style="'+("l1"==ib.curNavLevel?ib.tn.styleL1Desc:ib.tn.styleDesc)+'">'+l+"</div></div>");if(e[f++]="</div>",ib.O.itemsSelectable){if(a.selected=!1,ib.O.keepSelection===!0)for(it in ib.selectedItems)ib.selectedItems[it].GetID()===a.GetID()&&(a.selected=!0);ib.O.showCheckboxes&&(checked="",a.selected&&(checked="checked"),e[f++]='<input class="ngChekbox" type="checkbox" '+checked+' style="position:absolute;z-index:999;'+ib.O.checkboxStyle+'">')}e[f++]="</div>";var m=jQuery(e.join("")).appendTo(ib.$E.conTnHid);"undefined"!=typeof a.selected&&a.selected===!0&&m.find(".subcontainer").addClass("selected"),a.$elt=m,m.data("index",b),a.$getElt("img").data("index",b),"function"==typeof ib.O.fnThumbnailInit&&ib.O.fnThumbnailInit(m,a,d());var n=m.detach();if(n.appendTo(ib.$E.conTn),i){var o=ngimagesLoaded(m);o.on("always",function(a){var b=ib.I[jQuery(a.images[0].img).data("index")];if(void 0!=b&&a.images[0].img.src!=ib.emptyGif){var c=!1;b.thumbImg().height!=a.images[0].img.naturalHeight&&(b.thumbSetImgHeight(a.images[0].img.naturalHeight),b.thumbSetImgWidth(a.images[0].img.naturalWidth),c=!0),b.thumbImg().width!=a.images[0].img.naturalWidth&&(b.thumbSetImgHeight(a.images[0].img.naturalHeight),b.thumbSetImgWidth(a.images[0].img.naturalWidth),c=!0),c&&(ta(b.$elt),ra(b.$elt,b),va(b.$elt),Z())}})}else ta(m),ra(m,a),va(m);return{e$:m,cIS:i}}function na(a){var b=a.title;return 1==ib.O.thumbnailLabel.get("display")&&((void 0===b||0==b.length)&&(b="&nbsp;"),""!=ib.i18nTranslations.thumbnailImageTitle&&(b=ib.i18nTranslations.thumbnailImageTitle),ib.O.thumbnailLabel.get("titleMaxLength")>3&&b.length>ib.O.thumbnailLabel.get("titleMaxLength")&&(b=b.substring(0,ib.O.thumbnailLabel.get("titleMaxLength"))+"...")),b}function oa(a){var b="";return 1==ib.O.thumbnailLabel.get("displayDescription")&&(b="album"==a.kind?""!=ib.i18nTranslations.thumbnailImageDescription?ib.i18nTranslations.thumbnailAlbumDescription:a.description:""!=ib.i18nTranslations.thumbnailImageDescription?ib.i18nTranslations.thumbnailImageDescription:a.description,ib.O.thumbnailLabel.get("descriptionMaxLength")>3&&b.length>ib.O.thumbnailLabel.get("descriptionMaxLength")&&(b=b.substring(0,ib.O.thumbnailLabel.get("descriptionMaxLength"))+"...")),
b}function pa(a,b,c){var d=a.$elt,e=d.find("input[type=checkbox]");"image"!==ib.selectMode&&"album"!==ib.selectMode||a.kind===ib.selectMode?("undefined"==typeof b?a.selected=!a.selected:a.selected=b,c!==!1&&e.prop("checked",a.selected),a.selected?a.$getElt(".subcontainer").addClass("selected"):a.$getElt(".subcontainer").removeClass("selected")):(a.selected=!1,e.prop("checked",!1),a.$getElt(".subcontainer").removeClass("selected")),qa(),"function"==typeof ib.O.fnThumbnailSelection&&ib.O.fnThumbnailSelection(d,a)}function qa(){var a;ib.O.keepSelection===!0&&(a=ib.selectedItems.slice(0)),ib.selectedItems=[];for(var b=ib.I.length,c=0;b>c;c++)ib.I[c].selected===!0&&ib.selectedItems.push(ib.I[c]);if(ib.O.keepSelection===!0){for(c in a){alreadyExists=!1;for(var d=0;b>d;d++)ib.I[d].GetID()===a[c].GetID()&&(alreadyExists=!0);alreadyExists===!1&&ib.selectedItems.push(a[c])}a=[]}ib.selectedItems.length>0||1==ib.selectModeForce?(ib.I.forEach(function(a){null===a.$elt||a.$elt.hasClass("selectable")||(1==ib.selectModeForce&&a.kind===ib.selectMode||1==ib.selectMode)&&a.$elt.addClass("selectable")}),ib.selectMode!==!0&&"image"!==ib.selectMode&&"album"!==ib.selectMode&&(ib.selectMode=!0)):(ib.I.forEach(function(a){null!==a.$elt&&a.$elt.removeClass("selectable")}),ib.selectMode=!1),"function"==typeof ib.O.fnChangeSelectMode&&ib.O.fnChangeSelectMode(ib.selectMode)}function ra(a,b){if("auto"==ib.tn.settings.getH()){if(b.thumbImg().height>0){var c=b.thumbImg().height/b.thumbImg().width;b.$getElt(".imgContainer").height(ib.tn.settings.getW()*c),"onBottom"==ib.O.thumbnailLabel.get("position")?(b.thumbLabelHeight=b.$getElt(".labelImage").outerHeight(!0),b.thumbFullHeight=ib.tn.settings.getW()*c+b.thumbLabelHeight+ib.tn.borderHeight+ib.tn.imgcBorderHeight,a.width(ib.tn.outerWidth.get()-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight),b.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(b.thumbFullHeight=ib.tn.settings.getW()*c+b.thumbLabelHeight+ib.tn.borderHeight+ib.tn.imgcBorderHeight,a.width(ib.tn.outerWidth.get()-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight))}b.thumbFullWidth=ib.tn.outerWidth.get(),b.$getElt(".subcontainer").width(ib.tn.outerWidth.get()-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight)}else if("auto"==ib.tn.settings.getW()){return;var c}else b.thumbFullHeight=ib.tn.outerHeight.get(),b.thumbFullWidth=ib.tn.outerWidth.get(),"onBottom"==ib.O.thumbnailLabel.get("position")?a.width(b.thumbFullWidth-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight):a.width(b.thumbFullWidth-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight),b.$getElt(".subcontainer").width(b.thumbFullWidth-ib.tn.borderWidth).height(b.thumbFullHeight-ib.tn.borderHeight)}function sa(){for(var a=ib.I.length,b=0;a>b;b++)ib.I[b].hovered&&Da(ib.I[b].$elt)}function ta(a){var b=a.data("index");if(void 0!=b){var c=ib.I[b];for("function"==typeof ib.O.fnThumbnailHoverInit&&ib.O.fnThumbnailHoverInit(a,c,d()),xa(c),j=0;j<ib.tn.getHE().length;j++)switch(ib.tn.getHE()[j].name){case"imageSplit4":var e=c.$getElt(".subcontainer"),f=c.$getElt(".labelImage"),g=c.$getElt(".imgContainer");g.css({position:"absolute"}),e.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),e.prepend(g.clone()),e.prepend(c.$getElt(".imgContainer",!0).clone()),g=c.$getElt(".imgContainer",!0),gb("",g),wa(c,"imgContainer0",g.eq(0)),za(c,"imgContainer0"),wa(c,"imgContainer1",g.eq(1)),za(c,"imgContainer1"),wa(c,"imgContainer2",g.eq(2)),za(c,"imgContainer2"),wa(c,"imgContainer3",g.eq(3)),za(c,"imgContainer3");break;case"imageSplitVert":var e=c.$getElt(".subcontainer"),g=c.$getElt(".imgContainer");g.css({position:"absolute"}),e.css({overflow:"hidden",position:"relative"}),e.prepend(g.clone()),g=c.$getElt(".imgContainer",!0),gb("",g),wa(c,"imgContainer0",g.eq(0)),za(c,"imgContainer0"),wa(c,"imgContainer1",g.eq(1)),za(c,"imgContainer1");break;case"labelSplit4":var e=c.$getElt(".subcontainer"),f=c.$getElt(".labelImage").css({top:0,bottom:0});e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),c.$getElt(".labelImage",!0).clone().appendTo(e),f=c.$getElt(".labelImage",!0),wa(c,"labelImage0",f.eq(0)),za(c,"labelImage0"),wa(c,"labelImage1",f.eq(1)),za(c,"labelImage1"),wa(c,"labelImage2",f.eq(2)),za(c,"labelImage2"),wa(c,"labelImage3",f.eq(3)),za(c,"labelImage3");break;case"labelSplitVert":var e=c.$getElt(".subcontainer"),f=c.$getElt(".labelImage");e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),f=c.$getElt(".labelImage",!0),wa(c,"labelImage0",f.eq(0)),za(c,"labelImage0"),wa(c,"labelImage1",f.eq(1)),za(c,"labelImage1");break;case"labelAppearSplit4":var e=c.$getElt(".subcontainer");f=c.$getElt(".labelImage"),f.css({left:0,top:0,right:0,bottom:0}),e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),c.$getElt(".labelImage",!0).clone().appendTo(e),f=c.$getElt(".labelImage",!0);var h=wa(c,"labelImage0",f.eq(0));h.translateX=-c.thumbFullWidth/2,h.translateY=-c.thumbFullHeight/2,za(c,"labelImage0"),h=wa(c,"labelImage1",f.eq(1)),h.translateX=c.thumbFullWidth/2,h.translateY=-c.thumbFullHeight/2,za(c,"labelImage1"),h=wa(c,"labelImage2",f.eq(2)),h.translateX=c.thumbFullWidth/2,h.translateY=c.thumbFullHeight/2,za(c,"labelImage2"),h=wa(c,"labelImage3",f.eq(3)),h.translateX=-c.thumbFullWidth/2,h.translateY=c.thumbFullHeight/2,za(c,"labelImage3");break;case"labelAppearSplitVert":var e=c.$getElt(".subcontainer"),f=c.$getElt(".labelImage");e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),f=c.$getElt(".labelImage",!0),wa(c,"labelImage0",f.eq(0)).translateX=-c.thumbFullWidth/2,za(c,"labelImage0"),wa(c,"labelImage1",f.eq(1)).translateX=c.thumbFullWidth/2,za(c,"labelImage1");break;case"imageScale150Outside":ib.$E.base.css({overflow:"visible"}),ib.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),c.$getElt(".subcontainer").css({overflow:"visible"}),c.$getElt(".imgContainer").css({overflow:"visible"}),wa(c,"img0",c.$getElt("img")),za(c,"img0"),gb(c.$getElt(".imgContainer"),c.$getElt(".labelImage"));break;case"scale120":ib.$E.base.hasClass("fullpage")||ib.$E.base.css({overflow:"visible"}),ib.$E.conTn.css({overflow:"visible"}),wa(c,"base",a),za(c,"base");break;case"scaleLabelOverImage":var i=c.$getElt(".imgContainer"),k=c.$getElt(".labelImage");gb(i,k),k.css({opacity:0}),wa(c,"labelImage0",k).scale=50,za(c,"labelImage0"),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"overScale":a.css({overflow:"hidden"});var i=c.$getElt(".imgContainer"),k=c.$getElt(".labelImage");gb("",k),k.css({opacity:0}),i.css({opacity:1}),wa(c,"labelImage0",k).scale=150,za(c,"labelImage0"),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"overScaleOutside":ib.$E.base.hasClass("fullpage")||ib.$E.base.css({overflow:"visible"}),ib.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"});var i=c.$getElt(".imgContainer"),k=c.$getElt(".labelImage");gb("",k),k.css({opacity:0}),i.css({opacity:1}),wa(c,"labelImage0",k).scale=150,za(c,"labelImage0"),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"rotateCornerBL":a.css({overflow:"hidden"});var i=c.$getElt(".labelImage");i.css({opacity:1}),i[0].style[ib.CSStransformName+"Origin"]="100% 100%",wa(c,"labelImage0",i).rotateZ=-90,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i[0].style[ib.CSStransformName+"Origin"]="100% 100%",wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"rotateCornerBR":a.css({overflow:"hidden"});var i=c.$getElt(".labelImage");i.css({opacity:1}),i[0].style[ib.CSStransformName+"Origin"]="0% 100%",wa(c,"labelImage0",i).rotateZ=90,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i[0].style[ib.CSStransformName+"Origin"]="0 100%",wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"imageRotateCornerBL":var i=c.$getElt(".imgContainer");gb(a,i),a.css({overflow:"hidden"}),c.$getElt(".labelImage").css({opacity:1}),i[0].style[ib.CSStransformName+"Origin"]="bottom right",wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"imageRotateCornerBR":var i=c.$getElt(".imgContainer");gb(a,i),a.css({overflow:"hidden"}),c.$getElt(".labelImage").css({opacity:1}),i[0].style[ib.CSStransformName+"Origin"]="0 100%",wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"slideUp":a.css({overflow:"hidden"}),i=c.$getElt(".labelImage"),i.css({opacity:1,top:0}),wa(c,"labelImage0",i).translateY=c.thumbFullHeight,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i.css({left:0,top:0}),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"slideDown":a.css({overflow:"hidden"}),i=c.$getElt(".labelImage"),i.css({opacity:1,top:0}),wa(c,"labelImage0",i).translateY=-c.thumbFullHeight,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i.css({left:0,top:0}),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"slideRight":a.css({overflow:"hidden"}),i=c.$getElt(".labelImage"),i.css({opacity:1,top:0}),wa(c,"labelImage0",i).translateX=-c.thumbFullWidth,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i.css({left:0,top:0}),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"slideLeft":a.css({overflow:"hidden"}),i=c.$getElt(".labelImage"),i.css({opacity:1,top:0}),wa(c,"labelImage0",i).translateX=c.thumbFullWidth,za(c,"labelImage0"),i=c.$getElt(".imgContainer"),i.css({left:0,top:0}),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":i=c.$getElt(".imgContainer"),gb(a,i),a.css({overflow:"visible"}),c.$getElt(".labelImage").css({opacity:1}),i.css({left:0,top:0}),wa(c,"imgContainer0",i),za(c,"imgContainer0");break;case"labelAppear":case"labelAppear75":var l="rgb("+ib.custGlobals.oldLabelRed+","+ib.custGlobals.oldLabelGreen+","+ib.custGlobals.oldLabelBlue+",0.01)";c.$getElt(".labelImage").css({backgroundColor:l}),"album"==c.kind?c.$getElt(".labelFolderTitle").css({opacity:0}):c.$getElt(".labelImageTitle").css({opacity:0}),c.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":c.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":a.css({overflow:"hidden"}),c.$getElt(".labelImage").css({top:0,bottom:0}),wa(c,"labelImage0",c.$getElt(".labelImage")).translateY=c.thumbFullHeight,za(c,"labelImage0");break;case"labelSlideUp":a.css({overflow:"hidden"}),wa(c,"labelImage0",c.$getElt(".labelImage")).translateY=c.thumbFullHeight,za(c,"labelImage0");break;case"labelSlideDown":a.css({overflow:"hidden"}),wa(c,"labelImage0",c.$getElt(".labelImage")).translateY=-c.thumbFullHeight,za(c,"labelImage0");break;case"descriptionSlideUp":a.css({overflow:"hidden"});var m="album"==c.kind?c.$getElt(".labelFolderTitle").outerHeight(!0):c.$getElt(".labelImageTitle").outerHeight(!0);c.$getElt(".labelDescription").css({opacity:0}),c.$getElt(".labelImage").css({height:m}),wa(c,"labelImage0",c.$getElt(".labelImage")),za(c,"labelImage0");break;case"imageExplode":gb("",a),gb(c.$getElt(".labelImage"),c.$getElt(".imgContainer"));for(var e=c.$getElt(".subcontainer"),b=7,g=(c.thumbFullHeight,c.$getElt(".imgContainer")),n=g.outerWidth(!0)/b,o=g.outerHeight(!0),o=g.outerHeight(!0)/b,p=0;b>p;p++)for(var l=0;b>l;l++){var q="rect("+o*p+"px, "+n*(l+1)+"px, "+o*(p+1)+"px, "+n*l+"px)";g.clone().appendTo(e).css({top:0,scale:1,clip:q,left:0,position:"absolute"}).data("ngScale",1)}g.remove();break;case"imageFlipHorizontal":switch(ib.O.thumbnailLabel.get("position")){case"overImageOnTop":c.$getElt(".labelImage").css({top:-ib.tn.imgcBorderHeight/2,bottom:ib.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":c.$getElt(".labelImage").css({top:-ib.tn.imgcBorderHeight/2,bottom:ib.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:c.$getElt(".labelImage").css({bottom:ib.tn.imgcBorderWidth/2,left:0,right:0})}ib.$E.base.hasClass("fullpage")||ib.$E.base.css({overflow:"visible"}),ib.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),gb("",a),gb(c.$getElt(".labelImage"),c.$getElt(".imgContainer"));var i=c.$getElt(".subcontainer");i.css({overflow:"visible"}),i[0].style[ib.CSStransformStyle]="preserve-3d";var b=Math.round(1.2*c.thumbFullHeight)+"px";i[0].style[ib.CSSperspective]=b,i=c.$getElt(".imgContainer"),i[0].style[ib.CSSbackfaceVisibilityName]="hidden",wa(c,"imgContainer0",i),za(c,"imgContainer0"),a.find(".image")[0].style[ib.CSSbackfaceVisibilityName]="hidden",i=c.$getElt(".labelImage"),i[0].style[ib.CSSbackfaceVisibilityName]="hidden",wa(c,"labelImage0",i).rotateX=180,za(c,"labelImage0");break;case"imageFlipVertical":switch(ib.O.thumbnailLabel.get("position")){case"overImageOnTop":c.$getElt(".labelImage").css({top:-ib.tn.imgcBorderHeight/2,bottom:ib.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":c.$getElt(".labelImage").css({top:-ib.tn.imgcBorderHeight/2,bottom:ib.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:c.$getElt(".labelImage").css({bottom:ib.tn.imgcBorderWidth/2,left:0,right:0})}ib.$E.base.hasClass("fullpage")||ib.$E.base.css({overflow:"visible"}),ib.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),gb("",a),gb(c.$getElt(".labelImage"),c.$getElt(".imgContainer"));var i=c.$getElt(".subcontainer");i.css({overflow:"visible"}),i[0].style[ib.CSStransformStyle]="preserve-3d";var b=Math.round(1.2*c.thumbFullWidth)+"px";i[0].style[ib.CSSperspective]=b,i=c.$getElt(".imgContainer"),i[0].style[ib.CSSbackfaceVisibilityName]="hidden",wa(c,"imgContainer0",i),za(c,"imgContainer0"),a.find(".image")[0].style[ib.CSSbackfaceVisibilityName]="hidden",i=c.$getElt(".labelImage"),i[0].style[ib.CSSbackfaceVisibilityName]="hidden",wa(c,"labelImage0",i).rotateY=180,za(c,"labelImage0");break;case"imageScale150":a.css({overflow:"hidden"}),wa(c,"img0",c.$getElt("img")),za(c,"img0");break;case"imageScaleIn80":a.css({overflow:"hidden"}),wa(c,"img0",c.$getElt("img")).scale=120,za(c,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":a.css({overflow:"hidden"}),c.customData.hoverEffectRDir=ib.tn.getHE()[j].name,ua(a,c);break;case"imageSlide2Random":a.css({overflow:"hidden"});var r=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];c.customData.hoverEffectRDir=r[Math.floor(Math.random()*r.length)],ua(a,c)}c.hoverInitDone=!0}}function ua(a,b){var c=b.thumbFullWidth,d=b.thumbFullHeight,e=wa(b,"img0",b.$getElt("img"));switch(e.scale=140,b.customData.hoverEffectRDir){case"imageSlide2Up":e.translateY=b.thumbFullHeight<1.4*b.thumbImg().height?(1.4*b.thumbImg().height-b.thumbFullHeight)/2:0,e.translateX=b.thumbFullWidth<1.4*b.thumbImg().width?-(1.4*b.thumbImg().width-b.thumbFullWidth)/2:0;break;case"imageSlide2Down":var f=b.thumbFullHeight<1.4*b.thumbImg().height?Math.min((1.4*b.thumbImg().height-b.thumbFullHeight)/2*.1,.1*d):0;e.translateY=-f;var g=b.thumbFullWidth<1.4*b.thumbImg().width?Math.min((1.4*b.thumbImg().width-b.thumbFullWidth)/2*.1,.1*c):0;e.translateX=g;break;case"imageSlide2Left":e.translateY=.1*-d,e.translateX=.1*c;break;case"imageSlide2Right":e.translateY=.1*-d,e.translateX=.1*-c;break;case"imageSlide2UpRight":e.translateY=.05*d,e.translateX=.05*-c;break;case"imageSlide2UpLeft":e.translateY=.05*d,e.translateX=.05*c;break;case"imageSlide2DownRight":e.translateY=.05*-d,e.translateX=.05*-c;break;case"imageSlide2DownLeft":e.translateY=.05*-d,e.translateX=.05*c}za(b,"img0")}function va(a){var b=a.data("index");if(void 0!=b){var c=ib.I[b];if(!c.hoverInitDone)return void ta(a);for("function"==typeof ib.O.fnThumbnailHoverResize&&ib.O.fnThumbnailHoverResize(a,c,d()),j=0;j<ib.tn.getHE().length;j++)switch(ib.tn.getHE()[j].name){case"imageSplit4":var e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight,g=c.$getElt(".imgContainer"),h="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)";g.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",g.eq(1).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",g.eq(2).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",g.eq(3).css({clip:h});break;case"imageSplitVert":var g=c.$getElt(".imgContainer"),e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight,h="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";g.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",g.eq(1).css({clip:h});break;case"labelSplit4":var e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight,i=c.$getElt(".labelImage");h="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)",i.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",i.eq(1).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",i.eq(2).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",i.eq(3).css({clip:h});break;case"labelSplitVert":var e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight,i=c.$getElt(".labelImage"),h="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";i.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",i.eq(1).css({clip:h});break;case"labelAppearSplit4":var e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight;i=c.$getElt(".labelImage");var h="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)";i.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",i.eq(1).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",i.eq(2).css({clip:h}),h="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",i.eq(3).css({clip:h}),c.eltTransform.labelImage0.translateX=-c.thumbFullWidth/2,c.eltTransform.labelImage0.translateY=-c.thumbFullHeight/2,za(c,"labelImage0"),c.eltTransform.labelImage1.translateX=c.thumbFullWidth/2,c.eltTransform.labelImage1.translateY=-c.thumbFullHeight/2,za(c,"labelImage1"),c.eltTransform.labelImage2.translateX=c.thumbFullWidth/2,c.eltTransform.labelImage2.translateY=c.thumbFullHeight/2,za(c,"labelImage2"),c.eltTransform.labelImage3.translateX=-c.thumbFullWidth/2,c.eltTransform.labelImage3.translateY=c.thumbFullHeight/2,za(c,"labelImage3");break;case"labelAppearSplitVert":var e=c.thumbFullWidth-ib.tn.borderWidth-ib.tn.imgcBorderWidth,f=c.thumbFullHeight-ib.tn.borderHeight-ib.tn.imgcBorderHeight;i=c.$getElt(".labelImage");var h="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";i.eq(0).css({clip:h}),h="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",i.eq(1).css({clip:h}),c.eltTransform.labelImage0.translateX=-c.thumbFullWidth/2,za(c,"labelImage0"),c.eltTransform.labelImage1.translateX=c.thumbFullWidth/2,za(c,"labelImage1");break;case"slideUp":c.eltTransform.labelImage0.translateY=c.thumbFullHeight,za(c,"labelImage0");break;case"slideDown":c.eltTransform.labelImage0.translateY=-c.thumbFullHeight,za(c,"labelImage0");break;case"slideRight":c.eltTransform.labelImage0.translateX=-c.thumbFullWidth,za(c,"labelImage0");break;case"slideLeft":c.eltTransform.labelImage0.translateX=c.thumbFullWidth,za(c,"labelImage0");break;case"imageExplode":for(var g=(c.$getElt(".subcontainer"),c.$getElt(".imgContainer")),b=Math.sqrt(g.length),e=g.eq(0).outerWidth(!0)/b,f=g.eq(0).outerHeight(!0)/b,k=0;b>k;k++)for(var l=0;b>l;l++)var h="rect("+f*k+"px, "+e*(l+1)+"px, "+f*(k+1)+"px, "+e*l+"px)";break;case"imageFlipHorizontal":var m=c.$getElt(".subcontainer"),b=Math.round(1.2*c.thumbFullHeight)+"px";m[0].style[ib.CSSperspective]=b;break;case"imageFlipVertical":var m=c.$getElt(".subcontainer"),b=Math.round(1.2*c.thumbFullWidth)+"px";m[0].style[ib.CSSperspective]=b;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":ua(a,c);break;case"slideUp":c.eltTransform.labelImage0.translateY=c.thumbFullHeight,za(c,"labelImage0");break;case"slideDown":c.eltTransform.labelImage0.translateY=-c.thumbFullHeight,za(c,"labelImage0");break;case"slideRight":c.eltTransform.labelImage0.translateX=-c.thumbFullWidth,za(c,"labelImage0");break;case"slideLeft":c.eltTransform.labelImage0.translateX=c.thumbFullWidth,za(c,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":c.eltTransform.labelImage0.translateY=c.thumbFullHeight,za(c,"labelImage0");break;case"labelSlideDown":a.css({overflow:"hidden"}),c.eltTransform.labelImage0.translateY=-c.thumbFullHeight,za(c,"labelImage0");break;case"descriptionSlideUp":}}}function wa(a,b,c){return void 0==a.eltTransform[b]&&(a.eltTransform[b]=ya(),a.eltTransform[b].$elt=c),a.eltTransform[b]}function xa(a){for(var b in a.eltTransform)delete a.eltTransform[b]}function ya(){var a={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100};return a}function za(a,b){var c=a.eltTransform[b],d="translateX("+c.translateX+"px) translateY("+c.translateY+"px) scale("+c.scale/100+")";d+=ib.IE<=9||ib.isGingerbread?" rotate("+c.rotateZ+"deg)":" rotateX("+c.rotateX+"deg) rotateY("+c.rotateY+"deg) rotateZ("+c.rotateZ+"deg)",void 0!=c.$elt[0]&&(c.$elt[0].style[ib.CSStransformName]=d)}function Aa(a,b,c,d,e){var f=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==ib.aengine)for(var g=0;g<f.length;g++){var h=f[g];if("undefined"!=typeof c[h]){var i=new NGTweenable,j=parseInt(c[h]);i.tween({attachment:{it:d,eC:e,t:h,f:j},from:{v:parseInt(d.eltTransform[e][h])},to:{v:j},duration:ib.tn.getHE()[b].duration,delay:ib.tn.getHE()[b].delay,step:function(a,b){b.it.hovered&&(b.it.eltTransform[b.eC][b.t]=a.v,za(b.it,b.eC))},finish:function(a,b){b.it.hovered&&(b.it.eltTransform[b.eC][b.t]=b.f,za(b.it,b.eC))}}),delete c[h]}}var k=0;for(var l in c)if(c.hasOwnProperty(l)){k++;break}if(0!=k)if("transition"!=ib.aengine){var m={};for(var l in c)"borderColor"==l?m[l]=a.css("borderTopColor"):m[l]=a.css(l),"transparent"==m[l]&&(a.hasClass("labelImage")?m[l]="rgb("+ib.custGlobals.oldLabelRed+","+ib.custGlobals.oldLabelGreen+","+ib.custGlobals.oldLabelBlue+",0.01)":m[l]="rgba(0,0,0,0)");var i=new NGTweenable;i.tween({attachment:{$e:a,it:d,to:c},from:m,to:c,duration:ib.tn.getHE()[b].duration,delay:ib.tn.getHE()[b].delay,step:function(a,b){b.it.hovered&&b.$e.css(a)},finish:function(a,b){b.it.hovered&&b.$e.css(c)}})}else ib.tn.getHE()[b].delay>0?a.delay(ib.tn.getHE()[b].delay)[ib.aengine](c,ib.tn.getHE()[b].duration,ib.tn.getHE()[b].easing):a[ib.aengine](c,ib.tn.getHE()[b].duration,ib.tn.getHE()[b].easing)}function Ba(a){var b=a.data("index");if(void 0!=b){"velocity"==ib.aengine?a.find("*").velocity("stop",!0):a.find("*").stop(!0,!1);var c=ib.I[b];c.hovered=!0;var e="animate"==ib.aengine?1:100;"function"==typeof ib.O.fnThumbnailHover&&ib.O.fnThumbnailHover(a,c,d());try{for(j=0;j<ib.tn.getHE().length;j++)switch(ib.tn.getHE()[j].name){case"imageSplit4":var f=c.$getElt(".imgContainer");Aa(f.eq(0),j,{translateX:-c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"imgContainer0"),Aa(f.eq(1),j,{translateX:c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"imgContainer1"),Aa(f.eq(2),j,{translateX:c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"imgContainer2"),Aa(f.eq(3),j,{translateX:-c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"imgContainer3");break;case"imageSplitVert":var f=c.$getElt(".imgContainer");Aa(f.eq(0),j,{translateX:-c.thumbFullWidth/2},c,"imgContainer0"),Aa(f.eq(1),j,{translateX:c.thumbFullWidth/2},c,"imgContainer1");break;case"labelSplit4":var f=c.$getElt(".labelImage");Aa(f.eq(0),j,{translateX:-c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"labelImage0"),Aa(f.eq(1),j,{translateX:c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"labelImage1"),Aa(f.eq(2),j,{translateX:c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"labelImage2"),Aa(f.eq(3),j,{translateX:-c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"labelImage3");break;case"labelSplitVert":var f=c.$getElt(".labelImage");Aa(f.eq(0),j,{translateX:-c.thumbFullWidth/2},c,"labelImage0"),Aa(f.eq(1),j,{translateX:c.thumbFullWidth/2},c,"labelImage1");break;case"labelAppearSplit4":var f=c.$getElt(".labelImage");Aa(f.eq(0),j,{translateX:0,translateY:0},c,"labelImage0"),Aa(f.eq(1),j,{translateX:0,translateY:0},c,"labelImage1"),Aa(f.eq(2),j,{translateX:0,translateY:0},c,"labelImage2"),Aa(f.eq(3),j,{translateX:0,translateY:0},c,"labelImage3");break;case"labelAppearSplitVert":var f=c.$getElt(".labelImage");Aa(f.eq(0),j,{translateX:0},c,"labelImage0"),Aa(f.eq(1),j,{translateX:0},c,"labelImage1");break;case"scaleLabelOverImage":Aa(c.$getElt(".labelImage"),j,{scale:100/e,opacity:"1"},c,"labelImage0"),Aa(c.$getElt(".imgContainer"),j,{scale:50/e},c,"imgContainer0");break;case"overScale":case"overScaleOutside":Aa(c.$getElt(".labelImage"),j,{opacity:"1",scale:100/e},c,"labelImage0"),Aa(c.$getElt(".imgContainer"),j,{opacity:"0",scale:50/e},c,"imgContainer0");break;case"imageInvisible":Aa(c.$getElt(".imgContainer"),j,{opacity:"0"},c);break;case"rotateCornerBL":var g="transition"==ib.aengine?{rotate:"0deg"}:{rotateZ:"0"};Aa(c.$getElt(".labelImage"),j,g,c,"labelImage0"),g="transition"==ib.aengine?{rotate:"90deg"}:{rotateZ:"90"},Aa(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"rotateCornerBR":var g="transition"==ib.aengine?{rotate:"0deg"}:{rotateZ:"0"};Aa(c.$getElt(".labelImage"),j,g,c,"labelImage0"),g="transition"==ib.aengine?{rotate:"-90deg"}:{rotateZ:"-90"},Aa(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"imageRotateCornerBL":var g="transition"==ib.aengine?{rotate:"90deg"}:{rotateZ:"90"};Aa(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"imageRotateCornerBR":var g="transition"==ib.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};Aa(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"slideUp":Aa(c.$getElt(".imgContainer"),j,{translateY:-c.thumbFullHeight},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{translateY:0},c,"labelImage0");break;case"slideDown":Aa(c.$getElt(".imgContainer"),j,{translateY:c.thumbFullHeight},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{translateY:0},c,"labelImage0");break;case"slideRight":Aa(c.$getElt(".imgContainer"),j,{translateX:c.thumbFullWidth},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{translateX:0},c,"labelImage0");break;case"slideLeft":Aa(c.$getElt(".imgContainer"),j,{translateX:-c.thumbFullWidth},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{translateX:0},c,"labelImage0");break;case"imageSlideUp":Aa(c.$getElt(".imgContainer"),j,{translateY:-c.thumbFullHeight},c,"imgContainer0");break;case"imageSlideDown":Aa(c.$getElt(".imgContainer"),j,{translateY:c.thumbFullHeight},c,"imgContainer0");break;case"imageSlideLeft":Aa(c.$getElt(".imgContainer"),j,{translateX:-c.thumbFullWidth},c,"imgContainer0");break;case"imageSlideRight":Aa(c.$getElt(".imgContainer"),j,{translateX:c.thumbFullWidth},c,"imgContainer0");break;case"labelAppear":if("velocity"==ib.aengine)Aa(c.$getElt(".labelImage"),j,{backgroundColorRed:ib.custGlobals.oldLabelRed,backgroundColorGreen:ib.custGlobals.oldLabelGreen,backgroundColorBlue:ib.custGlobals.oldLabelBlue,backgroundColorAlpha:1},c);else{var h="rgba("+ib.custGlobals.oldLabelRed+","+ib.custGlobals.oldLabelGreen+","+ib.custGlobals.oldLabelBlue+",0.99)";Aa(c.$getElt(".labelImage"),j,{backgroundColor:h},c)}"album"==c.kind?Aa(c.$getElt(".labelFolderTitle"),j,{opacity:"1"},c):Aa(c.$getElt(".labelImageTitle"),j,{opacity:"1"},c),Aa(c.$getElt(".labelDescription"),j,{opacity:"1"},c);break;case"labelAppear75":if("velocity"==ib.aengine)Aa(c.$getElt(".labelImage"),j,{backgroundColorRed:ib.custGlobals.oldLabelRed,backgroundColorGreen:ib.custGlobals.oldLabelGreen,backgroundColorBlue:ib.custGlobals.oldLabelBlue,backgroundColorAlpha:.75},c);else{var h="rgba("+ib.custGlobals.oldLabelRed+","+ib.custGlobals.oldLabelGreen+","+ib.custGlobals.oldLabelBlue+",0.75)";Aa(c.$getElt(".labelImage"),j,{backgroundColor:h},c)}"album"==c.kind?Aa(c.$getElt(".labelFolderTitle"),j,{opacity:"1"},c):Aa(c.$getElt(".labelImageTitle"),j,{opacity:"1"},c),Aa(c.$getElt(".labelDescription"),j,{opacity:"1"},c);break;case"descriptionAppear":Aa(c.$getElt(".labelDescription"),j,{opacity:"1"},c);break;case"labelSlideDown":Aa(c.$getElt(".labelImage"),j,{translateY:0},c,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":Aa(c.$getElt(".labelImage"),j,{translateY:0},c,"labelImage0");break;case"descriptionSlideUp":var i="album"==c.kind?c.$getElt(".labelFolderTitle").outerHeight(!0):c.$getElt(".labelImageTitle").outerHeight(!0),k=c.$getElt(".labelDescription").outerHeight(!0),l=c.thumbFullHeight-i-k;0>l&&(l=0),Aa(c.$getElt(".labelImage"),j,{translateY:0,height:i+k},c,"labelImage0"),Aa(c.$getElt(".labelDescription"),j,{opacity:"1"},c);break;case"labelOpacity50":Aa(c.$getElt(".labelImage"),j,{opacity:"0.5"},c);break;case"imageOpacity50":Aa(c.$getElt(".imgContainer"),j,{opacity:"0.5"},c);break;case"borderLighter":if("velocity"==ib.aengine){var m=mb(ib.custGlobals.oldBorderColor,.5),n=m.substring(m.indexOf("(")+1,m.lastIndexOf(")")).split(/,\s*/);Aa(a,j,{borderColorRed:n[0],borderColorGreen:n[1],borderColorBlue:n[2],colorAlpha:n[3]},c)}else{var h=a.css("borderTopColor");a.data("ngcache_borderColor",h),Aa(a,j,{borderColor:mb(h,.5)},c)}break;case"borderDarker":if("velocity"==ib.aengine){var m=nb(ib.custGlobals.oldBorderColor,.5),n=m.substring(m.indexOf("(")+1,m.lastIndexOf(")")).split(/,\s*/);Aa(a,j,{borderColorRed:n[0],borderColorGreen:n[1],borderColorBlue:n[2],colorAlpha:n[3]},c)}else{var h=a.css("borderTopColor");a.data("ngcache_borderColor",h),Aa(a,j,{borderColor:nb(h,.5)},c)}break;case"imageScale150":Aa(c.$getElt("img"),j,{scale:150/e},c,"img0");break;case"imageScaleIn80":Aa(c.$getElt("img"),j,{scale:100/e},c,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(c.customData.hoverEffectRDir){case"imageSlide2Up":var o=c.thumbFullHeight<1.4*c.imgHeight?(1.4*c.imgHeight-c.thumbFullHeight)/2:0;Aa(c.$getElt("img"),j,{translateY:-o},c,"img0");break;case"imageSlide2Down":var o=c.thumbFullHeight<1.4*c.imgHeight?(1.4*c.imgHeight-c.thumbFullHeight)/2:0;Aa(c.$getElt("img"),j,{translateY:o},c,"img0");break;case"imageSlide2Left":Aa(c.$getElt("img"),j,{translateX:.1*-c.thumbFullWidth},c,"img0");break;case"imageSlide2Right":Aa(c.$getElt("img"),j,{translateX:.1*c.thumbFullWidth},c,"img0");break;case"imageSlide2UpRight":Aa(c.$getElt("img"),j,{translateY:.05*-c.thumbFullHeight,translateX:.05*c.thumbFullWidth},c,"img0");break;case"imageSlide2UpLeft":Aa(c.$getElt("img"),j,{translateY:.05*-c.thumbFullHeight,translateX:.05*-c.thumbFullWidth},c,"img0");break;case"imageSlide2DownRight":Aa(c.$getElt("img"),j,{translateY:.05*c.thumbFullHeight,translateX:.05*c.thumbFullWidth},c,"img0");break;case"imageSlide2DownLeft":Aa(c.$getElt("img"),j,{translateY:.05*c.thumbFullHeight,translateX:.05*-c.thumbFullWidth},c,"img0")}break;case"imageScale150Outside":gb("",a),Aa(c.$getElt("img"),j,{scale:150/e},c,"img0");break;case"scale120":gb("",a),Aa(a,j,{scale:120/e},c,"base");break;case"imageExplode":gb("",a);var p=c.$getElt(".imgContainer");b=Math.sqrt(p.length);for(var q=[],r=0;r<=Math.PI;r+=Math.PI/(b-1))q.push(Math.sin(r));for(var s=p.outerWidth(!0)/b,t=p.outerHeight(!0)/b,r=0,g=0;b>g;g++)for(var h=0;b>h;h++)Aa(p.eq(r++),j,{top:(-t*b/3+t*g-t)*q[h],left:(-s*b/3+s*h-s)*q[g],scale:1.5,opacity:0},c);break;case"imageFlipHorizontal":gb("",a),Aa(c.$getElt(".imgContainer"),j,{rotateX:180},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{rotateX:360},c,"labelImage0");break;case"imageFlipVertical":gb("",a),Aa(c.$getElt(".imgContainer"),j,{
rotateY:180},c,"imgContainer0"),Aa(c.$getElt(".labelImage"),j,{rotateY:360},c,"labelImage0");break;case"TEST":}}catch(u){bb("error on hover "+u.message)}}}function Ca(a,b,c,d,e){var f=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==ib.aengine)for(var g=0;g<f.length;g++){var h=f[g];if("undefined"!=typeof c[h]){var i=new NGTweenable,j=parseInt(c[h]);i.tween({attachment:{it:d,eC:e,t:h,f:j},from:{v:parseInt(d.eltTransform[e][h])},to:{v:j},duration:ib.tn.getHE()[b].durationBack,delay:ib.tn.getHE()[b].delayBack,step:function(a,b){b.it.eltTransform[b.eC][b.t]=a.v,za(b.it,b.eC)},finish:function(a,b){b.it.eltTransform[b.eC][b.t]=b.f,za(b.it,b.eC)}}),delete c[h]}}var k=0;for(var l in c)if(c.hasOwnProperty(l)){k++;break}if(0!=k)if("transition"!=ib.aengine){var m={};for(var l in c)"borderColor"==l?m[l]=a.css("borderTopColor"):(m[l]=a.css(l),"transparent"==m[l]&&(m[l]="rgba(0,0,0,0.01)"));var i=new NGTweenable;i.tween({attachment:{$e:a,it:d,to:c},from:m,to:c,duration:ib.tn.getHE()[b].durationBack,delay:ib.tn.getHE()[b].delayBack,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css(b.to)}})}else ib.tn.getHE()[b].delay>0?a.delay(ib.tn.getHE()[b].delay)[ib.aengine](c,ib.tn.getHE()[b].durationBack,ib.tn.getHE()[b].easingBack):a[ib.aengine](c,ib.tn.getHE()[b].durationBack,ib.tn.getHE()[b].easingBack)}function Da(a){if(!ib.containerViewerDisplayed){var b=a.data("index");if(void 0!=b){"velocity"==ib.aengine?a.find("*").velocity("stop",!0):a.find("*").filter(":animated").stop(!0,!1);var c=ib.I[b];c.hovered=!1;var e="animate"==ib.aengine?1:100;"function"==typeof ib.O.fnThumbnailHoverOut&&ib.O.fnThumbnailHoverOut(a,c,d());try{for(j=0;j<ib.tn.getHE().length;j++)switch(ib.tn.getHE()[j].name){case"imageSplit4":var f=c.$getElt(".imgContainer");Ca(f.eq(0),j,{translateX:0,translateY:0},c,"imgContainer0"),Ca(f.eq(1),j,{translateX:0,translateY:0},c,"imgContainer1"),Ca(f.eq(2),j,{translateX:0,translateY:0},c,"imgContainer2"),Ca(f.eq(3),j,{translateX:0,translateY:0},c,"imgContainer3");break;case"imageSplitVert":var f=c.$getElt(".imgContainer");Ca(f.eq(0),j,{translateX:0},c,"imgContainer0"),Ca(f.eq(1),j,{translateX:0},c,"imgContainer1");break;case"labelSplit4":var f=c.$getElt(".labelImage");Ca(f.eq(0),j,{translateX:0,translateY:0},c,"labelImage0"),Ca(f.eq(1),j,{translateX:0,translateY:0},c,"labelImage1"),Ca(f.eq(2),j,{translateX:0,translateY:0},c,"labelImage2"),Ca(f.eq(3),j,{translateX:0,translateY:0},c,"labelImage3");break;case"labelSplitVert":var f=c.$getElt(".labelImage");Ca(f.eq(0),j,{translateX:0},c,"labelImage0"),Ca(f.eq(1),j,{translateX:0},c,"labelImage1");break;case"labelAppearSplit4":var f=c.$getElt(".labelImage");Ca(f.eq(0),j,{translateX:-c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"labelImage0"),Ca(f.eq(1),j,{translateX:c.thumbFullWidth/2,translateY:-c.thumbFullHeight/2},c,"labelImage1"),Ca(f.eq(2),j,{translateX:c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"labelImage2"),Ca(f.eq(3),j,{translateX:-c.thumbFullWidth/2,translateY:c.thumbFullHeight/2},c,"labelImage3");break;case"labelAppearSplitVert":var f=c.$getElt(".labelImage");Ca(f.eq(0),j,{translateX:-c.thumbFullWidth/2},c,"labelImage0"),Ca(f.eq(1),j,{translateX:c.thumbFullWidth/2},c,"labelImage1");break;case"scaleLabelOverImage":Ca(c.$getElt(".labelImage"),j,{opacity:"0",scale:50/e},c,"labelImage0"),Ca(c.$getElt(".imgContainer"),j,{scale:100/e},c,"imgContainer0");break;case"overScale":case"overScaleOutside":Ca(c.$getElt(".labelImage"),j,{opacity:"0",scale:150/e},c,"labelImage0"),Ca(c.$getElt(".imgContainer"),j,{opacity:"1",scale:100/e},c,"imgContainer0");break;case"imageInvisible":Ca(c.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var g="transition"==ib.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};Ca(c.$getElt(".labelImage"),j,g,c,"labelImage0"),g="transition"==ib.aengine?{rotate:"0deg"}:{rotateZ:"0"},Ca(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"rotateCornerBR":var g="transition"==ib.aengine?{rotate:"90deg"}:{rotateZ:"90"};Ca(c.$getElt(".labelImage"),j,g,c,"labelImage0"),g="transition"==ib.aengine?{rotate:"0deg"}:{rotateZ:"0"},Ca(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":var g="transition"==ib.aengine?{rotate:"0deg"}:{rotateZ:"0"};Ca(c.$getElt(".imgContainer"),j,g,c,"imgContainer0");break;case"slideUp":Ca(c.$getElt(".imgContainer"),j,{translateY:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{translateY:c.thumbFullHeight},c,"labelImage0");break;case"slideDown":Ca(c.$getElt(".imgContainer"),j,{translateY:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{translateY:-c.thumbFullHeight},c,"labelImage0");break;case"slideRight":Ca(c.$getElt(".imgContainer"),j,{translateX:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{translateX:-c.thumbFullWidth},c,"labelImage0");break;case"slideLeft":Ca(c.$getElt(".imgContainer"),j,{translateX:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{translateX:c.thumbFullWidth},c,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":Ca(c.$getElt(".imgContainer"),j,{translateY:0},c,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":Ca(c.$getElt(".imgContainer"),j,{translateX:0},c,"imgContainer0");break;case"labelAppear":case"labelAppear75":if("velocity"==ib.aengine)Ca(c.$getElt(".labelImage"),j,{backgroundColorRed:ib.custGlobals.oldLabelRed,backgroundColorGreen:ib.custGlobals.oldLabelGreen,backgroundColorBlue:ib.custGlobals.oldLabelBlue,backgroundColorAlpha:0});else{var h="rgba("+ib.custGlobals.oldLabelRed+","+ib.custGlobals.oldLabelGreen+","+ib.custGlobals.oldLabelBlue+",0.01)";Ca(c.$getElt(".labelImage"),j,{backgroundColor:h})}"album"==c.kind?Ca(c.$getElt(".labelFolderTitle"),j,{opacity:"0"}):Ca(c.$getElt(".labelImageTitle"),j,{opacity:"0"}),Ca(c.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":Ca(c.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":Ca(c.$getElt(".labelImage"),j,{translateY:-c.thumbFullHeight},c,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":Ca(c.$getElt(".labelImage"),j,{translateY:c.thumbFullHeight},c,"labelImage0");break;case"descriptionSlideUp":var i="album"==c.kind?c.$getElt(".labelFolderTitle").outerHeight(!0):c.$getElt(".labelImageTitle").outerHeight(!0);c.thumbFullHeight-i-ib.tn.borderHeight-ib.tn.imgcBorderHeight;Ca(c.$getElt(".labelImage"),j,{translateY:0,height:i},c,"labelImage0");break;case"labelOpacity50":Ca(c.$getElt(".labelImage"),j,{opacity:ib.custGlobals.oldLabelOpacity});break;case"imageOpacity50":Ca(c.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if("velocity"==ib.aengine){var k=ib.custGlobals.oldBorderColor,l=k.substring(k.indexOf("(")+1,k.lastIndexOf(")")).split(/,\s*/);Ca(a,j,{borderColorRed:l[0],borderColorGreen:l[1],borderColorBlue:l[2],colorAlpha:l[3]})}else Ca(a,j,{borderColor:a.data("ngcache_borderColor")});break;case"imageScale150":case"imageScale150Outside":Ca(c.$getElt("img"),j,{scale:100/e},c,"img0");break;case"imageScaleIn80":Ca(c.$getElt("img"),j,{scale:120/e},c,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(c.customData.hoverEffectRDir){case"imageSlide2Up":var m=c.thumbFullHeight<1.4*c.imgHeight?(1.4*c.imgHeight-c.thumbFullHeight)/2:0;Ca(c.$getElt("img"),j,{translateY:m},c,"img0");break;case"imageSlide2Down":var m=c.thumbFullHeight<1.4*c.imgHeight?(1.4*c.imgHeight-c.thumbFullHeight)/2:0;Ca(c.$getElt("img"),j,{translateY:-m},c,"img0");break;case"imageSlide2Left":Ca(c.$getElt("img"),j,{translateX:.1*c.thumbFullWidth},c,"img0");break;case"imageSlide2Right":Ca(c.$getElt("img"),j,{translateX:.1*-c.thumbFullWidth},c,"img0");break;case"imageSlide2UpRight":Ca(c.$getElt("img"),j,{translateY:.05*c.thumbFullHeight,translateX:.05*-c.thumbFullWidth},c,"img0");break;case"imageSlide2UpLeft":Ca(c.$getElt("img"),j,{translateY:.05*c.thumbFullHeight,translateX:.05*c.thumbFullWidth},c,"img0");break;case"imageSlide2DownRight":Ca(c.$getElt("img"),j,{translateY:.05*-c.thumbFullHeight,translateX:.05*-c.thumbFullWidth},c,"img0");break;case"imageSlide2DownLeft":Ca(c.$getElt("img"),j,{translateY:.05*-c.thumbFullHeight,translateX:.05*c.thumbFullWidth},c,"img0")}break;case"scale120":Ca(a,j,{scale:100/e},c,"base");break;case"imageExplode":var n=c.$getElt(".imgContainer");b=Math.sqrt(n.length);for(var o=0,g=0;b>g;g++)for(var h=0;b>h;h++)Ca(n.eq(o++),j,{top:"0",left:"0",scale:"1",opacity:"1"});break;case"imageFlipHorizontal":Ca(c.$getElt(".imgContainer"),j,{rotateX:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{rotateX:180},c,"labelImage0");break;case"imageFlipVertical":Ca(c.$getElt(".imgContainer"),j,{rotateY:0},c,"imgContainer0"),Ca(c.$getElt(".labelImage"),j,{rotateY:180},c,"labelImage0");break;case"TEST":}}catch(p){bb("error on hoverOut "+p.message)}}}}function Ea(a){return ib.O.thumbnailOpenImage?"function"==typeof ib.O.fnThumbnailOpen?void Za(a):void("fancybox"==ib.O.viewer?$a(a):ib.containerViewerDisplayed?Sa(a,""):Fa(a)):void 0}function Fa(a){jQuery("body").css({overflow:"hidden"}),ib.containerViewerDisplayed=!0,ib.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),ib.$E.conVwCon.addClass("nanogallery_theme_"+ib.O.theme),ab(ib.$E.conVwCon),ib.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(ib.$E.conVwCon),ib.$E.conVw.css({visibility:"visible",position:"fixed"}),ib.$E.conVw.css({msTouchAction:"none",touchAction:"none"});var b="";ib.I.length;b+='<img class="image nGEvent" src="'+ib.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',b+='<img class="image nGEvent" src="'+ib.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',b+='<img class="image nGEvent" src="'+ib.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',ib.$E.vwContent=jQuery('<div class="content nGEvent">'+b+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(ib.$E.conVw),ib.$E.vwImgP=ib.$E.conVw.find(".image").eq(0),ib.$E.vwImgC=ib.$E.conVw.find(".image").eq(1),ib.$E.vwImgN=ib.$E.conVw.find(".image").eq(2),ib.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var c=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(ib.$E.conVw);c.on("touchstart click",function(a){return a.preventDefault(),a.stopPropagation(),(new Date).getTime()-ib.timeImgChanged<400?void 0:(Xa(!0),!1)});for(var e='<div class="toolbarContainer nGEvent" style="visibility:'+(ib.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">',f=ib.O.viewerToolbar.standard.split(","),g=0,h=f.length;h>g;g++)e+=Ga(f[g]);for(var i=ib.O.viewerToolbar.minimized.split(","),g=0,j=i.length;j>g;g++)-1==ib.O.viewerToolbar.standard.indexOf(i[g])&&(e+=Ga(i[g]));e+="</div></div>",ib.$E.conVwTb=jQuery(e).appendTo(ib.$E.conVw),"min"==ib.toolbarMode||ib.O.viewerToolbar.autoMinimize>0&&ib.O.viewerToolbar.autoMinimize>=db().w?Na():Ma(),ib.O.viewerFullscreen&&(ib.viewerIsFullscreen=!0,ib.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"),ngscreenfull.request()),ib.O.viewerDisplayLogo&&(ib.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(ib.$E.conVw)),gb("",ib.$E.conVw),gb(ib.$E.conVw,c),Ya(),ib.timeImgChanged=(new Date).getTime(),ib.$E.conVwTb.find(".closeButton").on("touchstart click",function(a){a.preventDefault(),a.stopPropagation(),(new Date).getTime()-ib.timeImgChanged<400||Xa(!0)}),ib.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(a){a.stopPropagation(),Ka()}),ib.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(a){a.stopPropagation(),La()}),ib.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(a){a.stopPropagation(),Ja()}),ib.$E.conVwTb.find(".infoButton").on("touchstart click",function(a){a.stopPropagation(),"function"==typeof ib.O.fnViewerInfo&&ib.O.fnViewerInfo(ib.I[ib.viewerCurrentItemIdx],d())}),ib.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(a){if(a.stopPropagation(),"function"==typeof ib.O.fnImgToolbarCustClick){for(var b=a.target||a.srcElement;null==b||null==b.getAttribute("class")||-1==b.getAttribute("class").indexOf("ngCustomBtn");)b=b.parentNode;var c=b.getAttribute("class");if(c.indexOf("ngCustomBtn")>=0)for(var e=c.split(" "),f=0,g=e.length;g>f;f++)0==e[f].indexOf("custom")&&ib.O.fnImgToolbarCustClick(e[f],jQuery(b),ib.I[ib.viewerCurrentItemIdx],d())}}),ib.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(a){if(a.stopPropagation(),"picasa"==ib.O.kind){var b="https://plus.google.com/photos/"+ib.O.userID+"/albums/"+ib.I[ib.viewerCurrentItemIdx].albumID+"/"+ib.I[ib.viewerCurrentItemIdx].GetID();window.open(b,"_blank")}if("flickr"==ib.O.kind){var b="https://www.flickr.com/photos/"+ib.O.userID+"/"+ib.I[ib.viewerCurrentItemIdx].GetID();window.open(b,"_blank")}}),ib.$E.conVwTb.find(".nextButton").on("touchstart click",function(a){a.stopPropagation(),Pa()}),ib.$E.conVwTb.find(".previousButton").on("touchstart click",function(a){a.stopPropagation(),Ra()}),ib.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(a){a.stopPropagation(),Pa()}),ib.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(a){a.stopPropagation(),Ra()}),ib.$E.vwContent.on("click",function(a){return(new Date).getTime()-ib.timeImgChanged<400?void 0:(a.preventDefault(),a.stopPropagation(),Xa(!0),!1)}),ib.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"}),Sa(a,""),null==ib.viewerSwipe&&(ib.viewerSwipe=new Ha(ib.$E.conVwCon[0])),ib.O.slideshowAutoStart&&(ib.playSlideshow=!0,ib.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Qa(),ib.playSlideshowTimerID=window.setInterval(function(){Qa()},ib.slideshowDelay))}function Ga(a){var b="",c=a.replace(/^\s+|\s+$/g,"");switch(c){case"minimizeButton":b='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":b='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":b='<div class="pageCounter nGEvent"></div>';break;case"nextButton":b='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":b='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":ib.supportFullscreenAPI&&(b='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>');break;case"infoButton":"function"==typeof ib.O.fnViewerInfo&&(b='<div class="ngbt infoButton nGEvent"></div>');break;case"linkOriginalButton":("flickr"==ib.O.kind||"picasa"==ib.O.kind)&&(b='<div class="ngbt linkOriginalButton nGEvent"></div>');break;case"closeButton":b='<div class="ngbt closeButton nGEvent"></div>';break;case"label":b='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:0==c.indexOf("custom")&&(b='<div class="ngbt ngCustomBtn '+c+' nGEvent">'+("function"==typeof ib.O.fnImgToolbarCustInit?ib.O.fnImgToolbarCustInit(c):"")+"</div>")}return b}function Ha(a){function b(a){ib.containerViewerDisplayed&&(ib.timeLastTouchStart=(new Date).getTime(),a.preventDefault(),a.touches&&a.touches.length>1||(j=f(a),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",c,!0),document.addEventListener("MSPointerUp",d,!0)):(document.addEventListener("touchmove",c,!0),document.addEventListener("touchend",d,!0),document.addEventListener("touchcancel",d,!0),document.addEventListener("mousemove",c,!0),document.addEventListener("mouseup",d,!0))))}function c(a){a.preventDefault(),k=f(a),i||(i=!0,window.requestAnimationFrame(g))}function d(a){a.cancelable&&a.preventDefault(),a.touches&&a.touches.length>0||(i=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",c,!0),document.removeEventListener("MSPointerUp",d,!0)):(document.removeEventListener("touchmove",c,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("touchcancel",d,!0),document.removeEventListener("mousemove",c,!0),document.removeEventListener("mouseup",d,!0)),e())}function e(){if(null==k)return l=0,void(j=null);var a=j.x-k.x;l-=a,-50>a&&Ra(),a>50&&Pa(),l=0,j=null,k=null,Math.abs(a)<50&&Ia(l)}function f(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function g(){if(i){var a=j.x-k.x;Ia(l-a),i=!1}}var h=a,i=!1,j=null,k=null,l=0;this.removeEventListeners=function(){window.navigator.msPointerEnabled?(h.removeEventListener("MSPointerDown",b,!0),document.removeEventListener("MSPointerMove",c,!0),document.removeEventListener("MSPointerUp",d,!0)):(h.removeEventListener("touchstart",b,!0),document.removeEventListener("touchmove",c,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("touchcancel",d,!0),document.removeEventListener("mousemove",c,!0),document.removeEventListener("mouseup",d,!0))},window.navigator.msPointerEnabled?h.addEventListener("MSPointerDown",b,!0):h.addEventListener("touchstart",b,!0)}function Ia(a){if(ib.imageSwipePosX=a,null==ib.CSStransformName)ib.$E.vwImgC.css({left:a});else if(ib.$E.vwImgC[0].style[ib.CSStransformName]="translateX("+a+"px)","slide"==ib.O.imageTransition)if(a>0){var b=(ib.$E.vwImgP,db().w);ib.$E.vwImgP.css({visibility:"visible",left:0,opacity:1}),ib.$E.vwImgP[0].style[ib.CSStransformName]="translateX("+(-b+a)+"px) ",ib.$E.vwImgN[0].style[ib.CSStransformName]="translateX("+-b+"px) "}else{var b=(ib.$E.vwImgN,-db().w);ib.$E.vwImgN.css({visibility:"visible",left:0,opacity:1}),ib.$E.vwImgN[0].style[ib.CSStransformName]="translateX("+(-b+a)+"px) ",ib.$E.vwImgP[0].style[ib.CSStransformName]="translateX("+-b+"px) "}}function Ja(){ngscreenfull.enabled&&(ngscreenfull.toggle(),ib.viewerIsFullscreen?(ib.viewerIsFullscreen=!1,ib.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(ib.viewerIsFullscreen=!0,ib.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")))}function Ka(){ib.playSlideshow?(window.clearInterval(ib.playSlideshowTimerID),ib.playSlideshow=!1,ib.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ib.playSlideshow=!0,ib.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Qa(),ib.playSlideshowTimerID=window.setInterval(function(){Qa()},ib.slideshowDelay))}function La(){"std"==ib.toolbarMode?Na():Ma()}function Ma(){ib.toolbarMode="std",ib.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton"),Oa("std"),Ya()}function Na(){ib.toolbarMode="min",ib.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton"),Oa("min"),Ya()}function Oa(a){for(var b=ib.O.viewerToolbar,b="std"==a?ib.O.viewerToolbar.standard:ib.O.viewerToolbar.minimized,c=["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"],d=0,e=c.length;e>d;d++)"label"==c[d]&&""==ib.$E.conVwTb.find(".title").text()&&""==ib.$E.conVwTb.find(".description").text()?ib.$E.conVwTb.find("."+c[d]).css({display:"none"}):ib.$E.conVwTb.find("."+c[d]).css({display:b.indexOf(c[d])>=0?"table-cell":"none"});ib.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});for(var f=b.split(","),d=0,e=f.length;e>d;d++){var g=f[d].replace(/^\s+|\s+$/g,"");0==g.indexOf("custom")&&ib.$E.conVwTb.find("."+g).css({display:"table-cell"})}}function Pa(){ib.playSlideshow&&(window.clearInterval(ib.playSlideshowTimerID),ib.playSlideshowTimerID=window.setInterval(function(){Qa()},ib.slideshowDelay)),Qa()}function Qa(){if(!(ib.viewerImageIsChanged||(new Date).getTime()-ib.timeImgChanged<300)){var a=(ib.I.length,Ua(ib.viewerCurrentItemIdx));Sa(a,"nextImage")}}function Ra(){if(!(ib.viewerImageIsChanged||(new Date).getTime()-ib.timeImgChanged<300)){ib.playSlideshow&&Ka();var a=Va(ib.viewerCurrentItemIdx);Sa(a,"previousImage")}}function Sa(a,b){ib.timeImgChanged=(new Date).getTime(),ib.viewerImageIsChanged=!0;if(ib.O.locationHash){var c="nanogallery/"+ib.baseEltID+"/"+ib.I[a].albumID+"/"+ib.I[a].GetID();if("#"+c!=location.hash){ib.lastLocationHash="#"+c;try{top.location.hash=c}catch(d){ib.O.locationHash=!1}}else try{ib.lastLocationHash=top.location.hash}catch(d){ib.O.locationHash=!1}}if(ib.O.debugMode&&console.timeline&&console.timeline("nanoGALLERYviewer"),ib.viewerResizeTimerID=window.setInterval(function(){Ya()},100),ib.viewerCurrentItemIdx=a,""==b){ib.$E.vwImgC.css({opacity:0,left:0,visibility:"visible"}).attr("src",ib.emptyGif).attr("src",ib.I[a].responsiveURL());var e=new NGTweenable;e.tween({from:{o:0},to:{o:1},attachment:{idx:a,dT:b},duration:400,step:function(a,b){ib.$E.vwImgC.css({opacity:a.o})},finish:function(a,b){ib.$E.vwImgC.css({opacity:1}),Ta(b.idx,b.dT)}})}else switch(ib.O.imageTransition){case"fade":var f="nextImage"==b?ib.$E.vwImgN:ib.$E.vwImgP;f.css({opacity:0,left:0,visibility:"visible"});var e=new NGTweenable;e.tween({from:{o:0},to:{o:1},attachment:{idx:a,dT:b,$e:f},duration:300,step:function(a,b){ib.$E.vwImgC.css({opacity:1-a.o}),b.$e.css({opacity:a.o})},finish:function(a,b){ib.$E.vwImgC.css({opacity:0}),b.$e.css({opacity:1}),Ta(b.idx,b.dT)}});break;case"slideBETA":var f="nextImage"==b?ib.$E.vwImgN:ib.$E.vwImgP;if(f.css({opacity:1,left:0,visibility:"visible"}),null==ib.CSStransformName)jQuery.when(ib.$E.vwImgC.animate({left:("nextImage"==b?-db().w:db().w)+"px",opacity:0},500),f.animate({opacity:1},300)).done(function(){Ta(a,b)});else{var g="nextImage"==b?-db().w:db().w;f[0].style[ib.CSStransformName]="translateX("+-g+"px) ";var h={v:ib.imageSwipePosX},i={v:"nextImage"==b?-db().w:db().w};jQuery(h).animate(i,{duration:500,step:function(a){ib.$E.vwImgC[0].style[ib.CSStransformName]="translateX("+a+"px)",ib.$E.vwImgC.css({opacity:1-Math.abs(a/g)}),f[0].style[ib.CSStransformName]="translateX("+(-g+a)+"px) "},complete:function(){ib.$E.vwImgC[0].style[ib.CSStransformName]="",ib.$E.vwImgC.css({opacity:0}),Ta(a,b)}})}break;case"slideOLD":var f="nextImage"==b?ib.$E.vwImgN:ib.$E.vwImgP;if(null==ib.CSStransformName)f.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ib.$E.vwImgC.animate({left:("nextImage"==b?-db().w:db().w)+"px"},500),f.animate({opacity:1},300)).done(function(){Ta(a,b)});else{f.css({opacity:1,left:0,visibility:"visible"});var g="nextImage"==b?-db().w:db().w;f[0].style[ib.CSStransformName]="translateX("+-g+"px) ";var h={v:ib.imageSwipePosX},i={v:"nextImage"==b?-db().w:db().w};jQuery(h).animate(i,{duration:400,easing:"linear",step:function(a){window.requestAnimationFrame(function(){ib.$E.vwImgC[0].style[ib.CSStransformName]="translateX("+a+"px)",f[0].style[ib.CSStransformName]="translateX("+(-g+a)+"px) "})},complete:function(){window.requestAnimationFrame(function(){ib.$E.vwImgC[0].style[ib.CSStransformName]="",Ta(a,b)})}})}break;case"slide":var f="nextImage"==b?ib.$E.vwImgN:ib.$E.vwImgP;if(null==ib.CSStransformName)f.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ib.$E.vwImgC.animate({left:2*("nextImage"==b?-db().w:db().w)+"px"},500),f.animate({opacity:1},300)).done(function(){Ta(a,b)});else{var g="nextImage"==b?-db().w:db().w;f.css({opacity:1,left:0,visibility:"visible"}),f[0].style[ib.CSStransformName]="translateX("+-g+"px) ";var e=new NGTweenable;e.tween({from:{t:ib.imageSwipePosX},to:{t:"nextImage"==b?-db().w:db().w},attachment:{idx:a,dT:b,$e:f,dir:g},duration:300,step:function(a,b){ib.$E.vwImgC[0].style[ib.CSStransformName]="translateX("+a.t+"px)",b.$e[0].style[ib.CSStransformName]="translateX("+(-b.dir+a.t)+"px) "},finish:function(a,b){ib.$E.vwImgC[0].style[ib.CSStransformName]="",b.$e[0].style[ib.CSStransformName]="",Ta(b.idx,b.dT)}})}break;case"slideAppear":default:var g=db().w+"px",f=ib.$E.vwImgP;"nextImage"==b&&(g="-"+g,f=ib.$E.vwImgN),f.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ib.$E.vwImgC.animate({left:g,opacity:0},500),f.animate({opacity:1},300)).done(function(){Ia(0),Ta(a,b)})}}function Ta(a,b){if(Wa(a),ib.O.debugMode&&console.timeline&&console.timelineEnd("nanoGALLERYviewer"),"function"!=typeof ib.O.fnImgDisplayed||ib.O.fnImgDisplayed(ib.I[a].$elt,ib.I[a])){ib.imageSwipePosX=0,ib.$E.vwImgC.off("click"),ib.$E.vwImgC.removeClass("imgCurrent");var c=ib.$E.vwImgC;switch(b){case"nextImage":ib.$E.vwImgC=ib.$E.vwImgN,ib.$E.vwImgN=c;break;case"previousImage":ib.$E.vwImgC=ib.$E.vwImgP,ib.$E.vwImgP=c}ib.$E.vwImgC.addClass("imgCurrent"),ib.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",ib.emptyGif).attr("src",ib.I[Ua(a)].responsiveURL()),ib.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",ib.emptyGif).attr("src",ib.I[Va(a)].responsiveURL()),ib.$E.vwImgC.on("click",function(a){a.stopPropagation(),a.pageX<jQuery(window).width()/2?Ra():Pa()}),Ya(),ib.viewerImageIsChanged=!1}}function Ua(a){for(var b=ib.I.length,c=-1,d=a+1;b>d;d++)if(ib.I[d].albumID==ib.I[a].albumID&&"image"==ib.I[d].kind){c=d;break}if(-1==c)for(var d=0;a>=d;d++)if(ib.I[d].albumID==ib.I[a].albumID&&"image"==ib.I[d].kind){c=d;break}return c}function Va(a){for(var b=-1,c=a-1;c>=0;c--)if(ib.I[c].albumID==ib.I[a].albumID&&"image"==ib.I[c].kind){b=c;break}if(-1==b)for(var c=ib.I.length-1;c>=a;c--)if(ib.I[c].albumID==ib.I[a].albumID&&"image"==ib.I[c].kind){b=c;break}return b}function Wa(a){if(ib.O.viewerToolbar.display){ib.$E.conVwTb.css({visibility:"visible"});var b=!1;void 0!==ib.I[a].title&&""!=ib.I[a].title?(ib.$E.conVwTb.find(".title").html(ib.I[a].title),b=!0):ib.$E.conVwTb.find(".title").html(""),void 0!==ib.I[a].description&&""!=ib.I[a].description?(ib.$E.conVwTb.find(".description").html(ib.I[a].description),b=!0):ib.$E.conVwTb.find(".description").html("");var c=ib.$E.conVwTb.find(".ngCustomBtn");c.length>0&&"function"==typeof ib.O.fnImgToolbarCustDisplay&&ib.O.fnImgToolbarCustDisplay(c,ib.I[a],d()),b&&("std"==ib.toolbarMode?ib.O.viewerToolbar.standard:ib.O.viewerToolbar.minimized).indexOf("label")>=0?ib.$E.conVwTb.find(".label").show():ib.$E.conVwTb.find(".label").hide();for(var e=0,f=ib.I.length,g=0;f>g;g++)ib.I[g].albumID==ib.I[a].albumID&&"image"==ib.I[g].kind&&e++;e>0&&ib.$E.conVwTb.find(".pageCounter").html(ib.I[a].imageNumber+1+"/"+e)}}function Xa(a){if(ib.viewerImageIsChanged&&ib.$E.vwContent.find("*").stop(!0,!0),ib.viewerImageIsChanged=!1,ib.containerViewerDisplayed){if(window.clearInterval(ib.viewerResizeTimerID),ib.playSlideshow&&(window.clearInterval(ib.playSlideshowTimerID),ib.playSlideshow=!1),ib.viewerSwipe.removeEventListeners(),ib.viewerSwipe=null,ib.O.galleryFullpageButton&&ib.$E.base.hasClass("fullpage")||h(),ib.viewerIsFullscreen&&(ib.viewerIsFullscreen=!1,ngscreenfull.exit()),ib.$E.conVwCon.hide(0).off().show(0).html("").remove(),ib.containerViewerDisplayed=!1,-1!=ib.albumIdxToOpenOnViewerClose)R(ib.albumIdxToOpenOnViewerClose,!0);else{if(ib.O.locationHash&&a){var b=ib.I[ib.viewerCurrentItemIdx].albumID,c="nanogallery/"+ib.baseEltID+"/"+b;ib.lastLocationHash="#"+c;try{top.location.hash=c}catch(d){ib.O.locationHash=!1}}sa()}ib.timeImgChanged=(new Date).getTime()}}function Ya(){window.requestAnimationFrame(function(){var a=ib.$E.conVw.width(),b=ib.$E.conVw.height(),c=ib.$E.vwImgC,d=c.height(),e=c.width(),f=c.outerHeight(!0),g=c.outerHeight(!1),h=ib.$E.conVwTb.find(".toolbar"),i=h.outerHeight(!0);40>=d||!ib.O.viewerToolbar.display?ib.$E.conVwTb.css({visibility:"hidden"}):ib.$E.conVwTb.css({visibility:"visible"});var j=Math.abs(ib.$E.vwContent.outerHeight(!0)-ib.$E.vwContent.height()),k=Math.abs(ib.$E.vwContent.outerWidth(!0)-ib.$E.vwContent.width()),l=g-c.innerHeight(),m=Math.abs(c.outerWidth(!1)-c.innerWidth()),n=Math.abs(c.innerHeight()-d),o=Math.abs(c.innerWidth()-e),p=l+n,q=m+o,r=0;"innerImage"!=ib.O.viewerToolbar.style&&(r=i);var s=b-r-j,t=a-k;switch(ib.O.viewerToolbar.position){case"top":ib.$E.vwContent.css({height:s,width:t,top:r});var u=0;"innerImage"==ib.O.viewerToolbar.style&&(u=Math.abs(f-d)/2+5),"stuckImage"==ib.O.viewerToolbar.style&&(u=Math.abs(f-d)/2-p),ib.$E.conVwTb.css({top:u});break;case"bottom":default:ib.$E.vwContent.css({height:s,width:t});var u=0;"innerImage"==ib.O.viewerToolbar.style&&(u=Math.abs(f-d)/2+5),"stuckImage"==ib.O.viewerToolbar.style&&(u=Math.abs(f-d)/2-p),ib.$E.conVwTb.css({bottom:u})}"innerImage"==ib.O.viewerToolbar.style&&h.css({"max-width":e}),"fullWidth"==ib.O.viewerToolbar.style&&h.css({width:t}),ib.$E.conVwTb.css({height:i}),ib.$E.vwContent.children("img").css({"max-width":t-q,"max-height":s-p})})}function Za(a){var b=a,c=[],d=0;c.push(ib.I[b]);for(var e=ib.I.length,f=b+1;e>f;f++)"image"==ib.I[f].kind&&ib.I[f].albumID==ib.I[a].albumID&&""==ib.I[f].destinationURL&&(d++,c.push(ib.I[f]));for(var f=0;b>f;f++)"image"==ib.I[f].kind&&ib.I[f].albumID==ib.I[a].albumID&&""==ib.I[f].destinationURL&&(d++,c.push(ib.I[f]));ib.O.fnThumbnailOpen(c)}function $a(a){var b=a,c=[],d=0;c[d]=new Object,c[d].href=ib.I[b].responsiveURL(),c[d].title=ib.I[b].title;for(var e=ib.I.length,f=b+1;e>f;f++)"image"==ib.I[f].kind&&ib.I[f].albumID==ib.I[a].albumID&&""==ib.I[f].destinationURL&&(d++,c[d]=new Object,c[d].href=ib.I[f].responsiveURL(),c[d].title=ib.I[f].title);for(var f=0;b>f;f++)"image"==ib.I[f].kind&&ib.I[f].albumID==ib.I[a].albumID&&""==ib.I[f].destinationURL&&(d++,c[d]=new Object,c[d].href=ib.I[f].responsiveURL(),c[d].title=ib.I[f].title);null!=ib.O.fancyBoxOptions?jQuery.fancybox(c,ib.O.fancyBoxOptions):jQuery.fancybox(c,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}function _a(a){var b=null;switch(kb(ib.O.colorScheme)){case"object":b=ib.colorScheme_default,jQuery.extend(!0,b,ib.O.colorScheme),ib.colorSchemeLabel="nanogallery_colorscheme_custom_"+ib.baseEltID;break;case"string":switch(ib.O.colorScheme){case"none":return;case"light":b=ib.colorScheme_light,ib.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":b=ib.colorScheme_lightBackground,ib.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":b=ib.colorScheme_darkRed,ib.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":b=ib.colorScheme_darkGreen,ib.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":b=ib.colorScheme_darkBlue,ib.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":b=ib.colorScheme_darkOrange,ib.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:b=ib.colorScheme_default,ib.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void bb("Error in colorScheme parameter.")}var c="."+ib.colorSchemeLabel+" ",d=c+".nanoGalleryNavigationbar { background:"+b.navigationbar.background+" !important; }\n";void 0!==b.navigationbar.border&&(d+=c+".nanoGalleryNavigationbar { border:"+b.navigationbar.border+" !important; }\n"),void 0!==b.navigationbar.borderTop&&(d+=c+".nanoGalleryNavigationbar { border-top:"+b.navigationbar.borderTop+" !important; }\n"),void 0!==b.navigationbar.borderBottom&&(d+=c+".nanoGalleryNavigationbar { border-bottom:"+b.navigationbar.borderBottom+" !important; }\n"),void 0!==b.navigationbar.borderRight&&(d+=c+".nanoGalleryNavigationbar { border-right:"+b.navigationbar.borderRight+" !important; }\n"),void 0!==b.navigationbar.borderLeft&&(d+=c+".nanoGalleryNavigationbar { border-left:"+b.navigationbar.borderLeft+" !important; }\n"),
d+=c+".nanoGalleryNavigationbar .oneFolder  { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .separator  { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .separatorRTL  { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .setFullPageButton { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .removeFullPageButton { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .oneFolder:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+b.thumbnail.background+" !important; border:"+b.thumbnail.border+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+b.thumbnail.background+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+b.thumbnail.labelBackground+" ; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";var e=b.thumbnail.labelBackground;"transparent"==e&&(e=""),d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+b.thumbnail.titleColor+" !important; color:"+e+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+b.thumbnail.descriptionColor+" !important; Text-Shadow:"+b.thumbnail.descriptionShadow+" !important; }\n",d+=c+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+b.thumbnail.titleColor+" !important; color:"+e+" !important; }\n",ib.O.paginationDots&&(d+=c+".nanoGalleryPaginationDot > .paginationItem { border:"+b.thumbnail.paginationDotBorder+" !important; background:"+b.thumbnail.paginationDotBack+" !important;}\n",d+=c+".nanoGalleryPaginationDot > .currentPage { background:"+b.thumbnail.paginationDotSelBack+" !important;}\n");var f="nanogallery_galleryfullpage_bgcolor_"+ib.baseEltID;d+="."+f+".fullpage { background:"+ib.O.galleryFullpageBgColor+" !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass(ib.colorSchemeLabel),jQuery(a).addClass(f)}function ab(a){var b=null;switch(kb(ib.O.colorSchemeViewer)){case"object":b=ib.colorSchemeViewer_default,jQuery.extend(!0,b,ib.O.colorSchemeViewer),ib.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(ib.O.colorSchemeViewer){case"none":return;case"light":b=ib.colorSchemeViewer_light,ib.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":b=ib.colorSchemeViewer_darkRed,ib.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":b=ib.colorSchemeViewer_darkGreen,ib.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":b=ib.colorSchemeViewer_darkBlue,ib.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":b=ib.colorSchemeViewer_darkOrange,ib.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":b=ib.colorSchemeViewer_dark,ib.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:b=ib.colorSchemeViewer_default,ib.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void bb("Error in colorSchemeViewer parameter.")}var c="."+ib.colorSchemeLabel+" ",d=c+".nanoGalleryViewer { background:"+b.background+" !important; }\n";d+=c+".nanoGalleryViewer .content img { border:"+b.imageBorder+" !important; box-shadow:"+b.imageBoxShadow+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar { background:"+b.barBackground+" !important; border:"+b.barBorder+" !important; color:"+b.barColor+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar .previousButton:after { color:"+b.barColor+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar .nextButton:after { color:"+b.barColor+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar .closeButton:after { color:"+b.barColor+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar .label .title { color:"+b.barColor+" !important; }\n",d+=c+".nanoGalleryViewer .toolbar .label .description { color:"+b.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass(ib.colorSchemeLabel)}function bb(a,b){cb(a),null!=ib.$E.conConsole&&(ib.$E.conConsole.css({visibility:"visible",height:"auto"}),0==b?ib.$E.conConsole.append("<p>"+a+"</p>"):ib.$E.conConsole.append("<p>nanoGALLERY: "+a+" ["+ib.baseEltID+"]</p>"))}function cb(a){window.console&&console.log("nanoGALLERY: "+a+" ["+ib.baseEltID+"]")}function db(){var a=jQuery(window);return vpW=a.width(),ib.O.demoViewportWidth>0&&(ib.O.demoViewportWidth<vpW&&(vpW=ib.O.demoViewportWidth),ib.O.maxWidth=vpW,jQuery(ib.$E.base).css({width:ib.O.maxWidth}),jQuery(ib.$E.base).css({"margin-left":"auto"}),jQuery(ib.$E.base).css({"margin-right":"auto"})),{l:a.scrollLeft(),t:a.scrollTop(),w:vpW,h:a.height()}}function eb(a,b){var c=db(),d=a.offset(),e=a.outerHeight(!0),f=a.outerWidth(!0);return d.top>=c.t-b&&d.top+e<=c.t+c.h+b&&d.left>=c.l-b&&d.left+f<=c.l+c.w+b?!0:!1}function fb(a,b){var c=db(),d=a.offset(),e=a.outerHeight(!0);a.outerWidth(!0);return 0==c.t&&d.top<=c.t+c.h?!0:d.top>=c.t&&d.top+e<=c.t+c.h-b?!0:!1}function gb(a,b){var c=0;""==a&&(a="*"),jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c}),c++,jQuery(b).css("z-index",c)}function hb(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}this.ReloadAlbum=function(){if(""===ib.O.kind)throw"Not supported for this kind.";for(var a=ib.I.length,b=-1,c=0;a>c;c++)if(ib.lastOpenAlbumID==ib.I[c].GetID()){b=c;break}if(-1==b)throw"Current album not found.";ib.O.keepSelection===!1&&(ib.selectedItems=[]);for(var d=0;a>d;d++)ib.O.keepSelection===!1&&(ib.I[d].selected=!1),ib.I[d].albumID==b&&(ib.I[d].albumID=-1);switch(ib.I[b].contentIsLoaded=!1,ib.lastOpenAlbumID=-1,ib.O.kind){case"json":return C(b,!1,-1,!1,!0);case"flickr":return F(b,!1,-1,!1,!0);case"picasa":default:return L(b,!1,-1,!1,!0)}},this.displayItem=function(a){return v(!1,a,!0)},this.GetItem=function(a){if(isNaN(a))throw"index must be a number";return ib.I[a]},this.GetItems=function(){return ib.I},this.GetItemsIndex=function(a){for(var b=[],c=a.length,d=0;c>d;d++){if(isNaN(a[d])?index=ib.I.indexOf(a[d]):index=a[d],isNaN(index))throw"This item does not exists";b.push(index)}return b},this.SetSelectedItems=function(a){for(var b=a.length,c=0;b>c;c++)null!==a[c].$elt&&pa(a[c],!0)},this.SetUnselectedItems=function(a){for(var b=a.length,c=0;b>c;c++)null!==a[c].$elt&&pa(a[c],!1)},this.GetSelectedItems=function(){return ib.selectedItems},this.Get=function(a){return ib.O[a]},this.Set=function(a,b){ib.O[a]=b},this.SetSelectMode=function(b){"undefined"==typeof b&&ib.selectModeForce===!0&&(b=ib.selectMode),(b===!0||b===!1||"image"===b||"album"===b)&&(ib.selectModeForce=b!==!1,ib.selectMode=b,"album"===b||"image"==b?ib.$E.base.find(".nanoGalleryThumbnailContainer").each(function(){a(this).hasClass("album")&&"image"===b||!a(this).hasClass("album")&&"album"===b?a(this).addClass("unselectable"):a(this).removeClass("unselectable")}):ib.$E.base.find(".nanoGalleryThumbnailContainer").removeClass("unselectable"),(ib.O.keepSelection===!1||b===!1)&&this.SetUnselectedItems(ib.I),"function"==typeof ib.O.fnChangeSelectMode&&ib.O.fnChangeSelectMode(ib.selectMode))},this.GetSelectMode=function(){return ib.selectMode};var ib=this;ib.I=[],ib.O=null,ib.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},ib.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},ib.$currentTouchedThumbnail=null,ib.baseEltID=null,ib.containerTags=null,ib.containerNavigationbarContDisplayed=!1,ib.containerViewerDisplayed=!1,ib.containerThumbnailsDisplayed=!1,ib.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return ib.tn.labelHeight[ib.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return ib.tn.outerWidth[ib.curNavLevel][ib.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return ib.tn.outerHeight[ib.curNavLevel][ib.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return ib.tn.settings.height[ib.curNavLevel][ib.curWidth]},getW:function(){return ib.tn.settings.width[ib.curNavLevel][ib.curWidth]}},getHE:function(){return"l1"==ib.curNavLevel&&0!==ib.tnL1HE.length?ib.tnL1HE:ib.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""},ib.tnHE=[],ib.tnL1HE=[],ib.L={nbMaxTnPerRow:0},ib.blackList=null,ib.whiteList=null,ib.albumList=null,ib.galleryItemsCount=0,ib.toolbarMode="std",ib.playSlideshow=!1,ib.playSlideshowTimerID=0,ib.slideshowDelay=3e3,ib.touchAutoOpenDelayTimerID=0,ib.supportFullscreenAPI=!1,ib.viewerIsFullscreen=!1,ib.bodyOverflowInitial=null,ib.i18nLang="",ib.timeImgChanged=0,ib.timeLastTouchStart=0,ib.pgMaxNbThumbnailsPerRow=1,ib.pgMaxLinesPerPage=0,ib.lastOpenAlbumID=-1,ib.lastLocationHash="",ib.touchSelectTO=null,ib.viewerImageIsChanged=!1,ib.viewerResizeTimerID=-1,ib.viewerCurrentItemIdx=-1,ib.imageSwipePosX=0,ib.albumIdxToOpenOnViewerClose=-1,ib.custGlobals={},ib.delayedAlbumIdx=-1,ib.curAlbumIdx=-1,ib.delayedSetLocationHash=!1,ib.viewerSwipe=null,ib.isShiftPressed=!1,ib.isAltPressed=!1,ib.isCtrlPressed=!1,ib.isMetaPressed=!1,ib.selectedItems=[],ib.aengine="animate",ib.scrollTimeOut=0,ib.maxAlbums=1e6,ib.maxPhotos=1e6,ib.curNavLevel="l1",ib.curWidth="me",ib.gallerySwipeInitDone=!1,ib.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",ib.CSStransformName=f(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),ib.CSStransformStyle=f(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),ib.CSSperspective=f(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),ib.CSSbackfaceVisibilityName=f(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),ib.CSStransitionName=f(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),ib.CSSanimationName=f(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),ib.IE=function(){if(document.documentMode)return document.documentMode;for(var a=7;a>4;a--){var b=document.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return void 0}(),ib.IOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}}(),ib.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),ib.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),ib.openNoDelay=!1,ib.startDateTime=new Date,ib.toRender=[],ib.picasa={url:function(){return ib.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},ib.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},ib.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}},ib.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}},ib.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}},ib.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}},ib.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}},ib.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},ib.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},ib.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ib.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var jb=function(){function a(a,c){var d=0;d=void 0===c||null===c?b++:c,this.GetID=function(){return d},this.title=a,this.description="",this.src="",this.width=0,this.height=0,this.destinationURL="",this.kind="",this.author="",this.thumbFullWidth=0,this.thumbFullHeight=0,this.thumbLabelWidth=0,this.thumbLabelHeight=0,this.thumbSizes={},this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.eltTransform={},this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.$elt=null,this.$Elts=[]}var b=1;return a.get_nextId=function(){return b},a.prototype={$getElt:function(a,b){return void 0!==this.$Elts[a]&&1==!b?this.$Elts[a]:(this.$Elts[a]=this.$elt.find(a),this.$Elts[a])},thumbSetImgHeight:function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)ib.tn.settings.height.l1[b[c]]==ib.tn.settings.getH()&&ib.tn.settings.width.l1[b[c]]==ib.tn.settings.getW()&&(this.thumbs.height.l1[b[c]]=a);for(var c=0;c<b.length;c++)ib.tn.settings.height.lN[b[c]]==ib.tn.settings.getH()&&ib.tn.settings.width.l1[b[c]]==ib.tn.settings.getW()&&(this.thumbs.height.lN[b[c]]=a)},thumbSetImgWidth:function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)ib.tn.settings.height.l1[b[c]]==ib.tn.settings.getH()&&ib.tn.settings.width.l1[b[c]]==ib.tn.settings.getW()&&(this.thumbs.width.l1[b[c]]=a);for(var c=0;c<b.length;c++)ib.tn.settings.height.lN[b[c]]==ib.tn.settings.getH()&&ib.tn.settings.width.l1[b[c]]==ib.tn.settings.getW()&&(this.thumbs.width.lN[b[c]]=a)},thumbImg:function(){var a={src:"",width:0,height:0};return"dummydummydummy"==this.title?(a.src=ib.emptyGif,a):(a.src=this.thumbs.url[ib.curNavLevel][ib.curWidth],a.width=this.thumbs.width[ib.curNavLevel][ib.curWidth],a.height=this.thumbs.height[ib.curNavLevel][ib.curWidth],a)},responsiveURL:function(){var a="";switch(ib.O.kind){case"":a=this.src;break;case"flickr":a=this.src;break;case"picasa":default:a=this.src}return a}},a}();this.Initiate=function(a,c){"use strict";if(ib.O=c,ib.O.thumbnailLabel.get=function(a){return"l1"==ib.curNavLevel&&void 0!==ib.O.thumbnailL1Label&&void 0!==ib.O.thumbnailL1Label[a]?ib.O.thumbnailL1Label[a]:ib.O.thumbnailLabel[a]},ib.O.thumbnailLabel.set=function(a,b){"l1"==ib.curNavLevel&&void 0!==ib.O.thumbnailL1Label&&void 0!==ib.O.thumbnailL1Label[a]?ib.O.thumbnailL1Label[a]=b:ib.O.thumbnailLabel[a]=b},ib.$E.base=jQuery(a),ib.baseEltID=ib.$E.base.attr("id"),ib.bodyOverflowInitial=jQuery("body").css("overflow"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.replaceAll=function(a,b){return void 0===b?this.toString():this.split(a).join(b)},"object"==kb(jQuery.velocity)?ib.aengine="velocity":"object"==kb(jQuery.transit)&&(ib.aengine="transition"),jQuery(a).addClass("nanogallery_theme_"+ib.O.theme),_a(a),ib.O.thumbnailLabel.get("hideIcons")){var d=".nanogallery_thumbnails_icons_off ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";f+=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_icons_off")}if(ib.O.galleryToolbarHideIcons){var d=".nanogallery_breadcrumb_icons_off ",f=d+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";f+=d+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off")}if("right"==ib.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_right ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right")}if("center"==ib.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_center ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center")}if("left"==ib.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_left ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left")}ib.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a),ib.$E.conNavBCon.hide(),ib.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(ib.$E.conNavBCon);var h="";switch(ib.O.RTL&&(h='style="text-align:right;direction:rtl;"'),ib.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+h+"></div>").appendTo(ib.$E.conNavB),ib.$E.conLoadingB=jQuery('<div class="nanoGalleryLBar" style="visibility:hidden;"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(a),ib.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a),ib.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(ib.$E.conTnParent),ib.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a),ib.O.thumbnailAlignment){case"left":ib.$E.conTnParent.css({"text-align":"left"}),ib.$E.conNavBCon.css({"margin-left":0});break;case"right":ib.$E.conTnParent.css({"text-align":"right"}),ib.$E.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var i=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+'"></div>').appendTo("body"),j=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(i);if(ib.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(j),ib.O.supportIE8)try{!window.addEventListener&&function(a,b,c,d,e,f,g){a[d]=b[d]=c[d]=function(a,b){var c=this;g.unshift([c,a,b,function(a){a.currentTarget=c,a.preventDefault=function(){a.returnValue=!1},a.stopPropagation=function(){a.cancelBubble=!0},a.target=a.srcElement||c,b.call(c,a)}]),this.attachEvent("on"+a,g[0][3])},a[e]=b[e]=c[e]=function(a,b){for(var c,d=0;c=g[d];++d)if(c[0]==this&&c[1]==a&&c[2]==b)return this.detachEvent("on"+a,g.splice(d,1)[0][3])},a[f]=b[f]=c[f]=function(a){return this.fireEvent("on"+a.type,a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(k){return e(),!1}else if(ib.IE<=8)return e(),!1;m();var n="";ib.O.RTL&&(n='style="direction:rtl;"'),ib.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(ib.O.paginationDots?"Dot":"")+'" '+n+"></div>").appendTo(ib.$E.conTnParent),ib.$E.conPagin.hide();new l(ib.$E.conTn[0]);t(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?ib.supportFullscreenAPI=!0:cb("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),w(),ib.L.nbMaxTnPerRow=aa(),ib.O.viewerFullscreen&&ib.O.openOnStart.indexOf("/")>0&&ngscreenfull.request(),"loadData"!=ib.O.lazyBuild&&g();var o=0;jQuery(window).resize(function(){o&&clearTimeout(o),ib.containerViewerDisplayed?Ya():o=setTimeout(function(){var a=p();-1==ib.curAlbumIdx||ib.tn.settings.getH()==ib.tn.settings.height[ib.curNavLevel][a]&&ib.tn.settings.getW()==ib.tn.settings.width[ib.curNavLevel][a]?Z():(ib.curWidth=a,ja(ib.curAlbumIdx,0))},50)}),ib.$E.base.on("scroll",function(){b()}),jQuery(window).on("scroll",function(){b()})},function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var kb=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},lb=function(a,b,c){a=a.replace(/^\s*|\s*$/,""),a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var d=Math.round(256*b)*(c?-1:1),e=a.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),f=e&&null!=e[4]?e[4]:null,g=e?[e[1],e[2],e[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return e?"rgb"+(null!==f?"a":"")+"("+Math[c?"max":"min"](parseInt(g[0],10)+d,c?0:255)+", "+Math[c?"max":"min"](parseInt(g[1],10)+d,c?0:255)+", "+Math[c?"max":"min"](parseInt(g[2],10)+d,c?0:255)+(null!==f?", "+f:"")+")":["#",ob(Math[c?"max":"min"](parseInt(g[0],10)+d,c?0:255).toString(16),2),ob(Math[c?"max":"min"](parseInt(g[1],10)+d,c?0:255).toString(16),2),ob(Math[c?"max":"min"](parseInt(g[2],10)+d,c?0:255).toString(16),2)].join("")},mb=function(a,b){return lb(a,b,!1)},nb=function(a,b){return lb(a,b,!0)},ob=function(a,b){var c="0";for(a+="";a.length<b;)a=c+a;return a}}jQuery.nanoGallery=function(c,d){var e=this;e.$e=a(c),e.e=c,e.$e.data("nanoGallery",e),e.init=function(){e.options=a.extend(!0,{},a.nanoGallery.defaultOptions,d),e.nG=new b,e.nG.Initiate(e.e,e.options)},e.test=function(){},e.init()},jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:!1,picasaUseUrlCrossDomain:!0,flickrSkipOriginal:!0,galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",galleryRenderStep:10,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:!1,showCheckboxes:!0,checkboxStyle:"left:15px; top:15px;",keepSelection:!1,jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:!1,paginationSwipe:!0,maxWidth:0,viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:!0,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",thumbnailOpenImage:!0,breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnThumbnailOpen:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!0,demoViewportWidth:0,slideshowDelay:3e3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",lazyBuild:"none",lazyBuildTreshold:150,debugMode:!1,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},jQuery.fn.nanoGallery=function(b,c,d){if("undefined"==typeof a(this).data("nanoGallery"))return this.each(function(){new a.nanoGallery(this,b)});switch(b){case"reload":return a(this).data("nanoGallery").nG.ReloadAlbum(),a(this);case"getSelectedItems":return a(this).data("nanoGallery").nG.GetSelectedItems();case"selectItems":a(this).data("nanoGallery").nG.SetSelectedItems(c);
break;case"unselectItems":a(this).data("nanoGallery").nG.SetUnselectedItems(c);break;case"setSelectMode":(c===!0||c===!1||"image"===c||"album"===c)&&a(this).data("nanoGallery").nG.SetSelectMode(c);break;case"getSelectMode":return a(this).data("nanoGallery").nG.GetSelectMode();case"getItem":return a(this).data("nanoGallery").nG.GetItem(c);case"getItems":return a(this).data("nanoGallery").nG.GetItems();case"getItemsIndex":return a(this).data("nanoGallery").nG.GetItemsIndex(c);case"option":if("undefined"==typeof d)return a(this).data("nanoGallery").nG.Get(c);a(this).data("nanoGallery").nG.Set(c,d),"demoViewportWidth"==c&&a(window).trigger("resize");break;case"destroy":a(this).data("nanoGallery").nG.$E.base.text(""),a(this).removeData();break;case"displayItem":a(this).data("nanoGallery").nG.displayItem(c)}return a(this)}}(jQuery),/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.ngEventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.ngEventEmitter=f,a},"function"==typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.ngEventEmitter=a}.call(this),/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),/*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(a,b){"function"==typeof define&&define.amd?define(["ngEventEmitter/ngEventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.ngimagesLoaded=b(a,a.ngEventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l="undefined"!=typeof k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;g>f;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.ngimagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g}),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),document.addEventListener(c.fullscreenchange,function(a){d.onchange.call(d,a)}),document.addEventListener(c.fullscreenerror,function(a){d.onerror.call(d,a)}),void(a?module.exports=d:window.ngscreenfull=d)):void(a?module.exports=!1:window.ngscreenfull=!1)}(),/*!
 * Shifty
 * By Jeremy Kahn - jeremyckahn@gmail.com
 */
/*! shifty - v1.5.0 - 2015-05-31 - http://jeremyckahn.github.io/shifty */
function(){var a=this,b=function(){"use strict";function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j,k,m=f>a?0:(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(j=h[i],k="function"==typeof j?j:l[j],b[i]=g(c[i],d[i],k,m));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k,l,m){s=b+c+d,t=Math.min(m||r(),s),u=t>=s,v=d-(s-t),a.isPlaying()&&!u?(a._scheduleId=l(a._timeoutHandler,p),h(a,"beforeTween"),b+c>t?f(1,e,g,i,1,1,j):f(t,e,g,i,d,b+c,j),h(a,"afterTween"),k(e,a._attachment,v)):a.isPlaying()&&u&&(k(i,a._attachment,v),a.stop(!0))}function j(a,b){var d={},e=typeof b;return"string"===e||"function"===e?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n="linear",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:q;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u,v;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=d({},a.from)||this.get(),this._originalState=this.get(),this._targetState=d({},a.to)||this.get();var c=this;this._timeoutHandler=function(){i(c,c._timestamp,c._delay,c._duration,c._currentState,c._originalState,c._targetState,c._easing,c._step,c._scheduleFunction)};var f=this._currentState,g=this._targetState;return e(g,f),this._easing=j(f,a.easing||n),this._filterArgs=[f,this._originalState,g,this._easing],h(this,"tweenCreated"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(a){a=Math.max(a,0);var b=r();return 0===this._timestamp+a?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,i(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},k.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(h(this,"beforeTween"),f(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),h(this,"afterTween"),h(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=i),"object"==typeof exports?module.exports=k:"function"==typeof define&&define.amdDISABLED?define(function(){return k}):void 0===a.NGTweenable&&(a.NGTweenable=k),k}();!function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,b>l(f))return e;if(h=i(e),1e-6>l(h))break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),b>l(f-a))return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.displayName=a,h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f,g){return b.tweenProps(e,c,a,d,1,g,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g,h){var i=b.shallowCopy({},d),j=h||0,k=b.composeEasingObject(d,g||"linear");c.set({});var l=c._filterArgs;l.length=0,l[0]=i,l[1]=d,l[2]=e,l[3]=k,b.applyFilter(c,"tweenCreated"),b.applyFilter(c,"beforeTween");var m=a(d,i,e,f,k,j);return b.applyFilter(c,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;c>d;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){var d,e=c[a],f=e.chunkNames,g=f.length,h=b[a];if("string"==typeof h){var i=h.split(" "),j=i[i.length-1];for(d=0;g>d;d++)b[f[d]]=i[d]||j}else for(d=0;g>d;d++)b[f[d]]=h;delete b[a]})}function t(b,c){a.each(c,function(a){var d=c[a],e=d.chunkNames,f=e.length,g=b[e[0]],h=typeof g;if("string"===h){for(var i="",j=0;f>j;j++)i+=" "+b[e[j]],delete b[e[j]];b[a]=i.substr(1)}else b[a]=g})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}.call(null);